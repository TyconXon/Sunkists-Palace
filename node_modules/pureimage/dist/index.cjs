var Ji=Object.create;var Xt=Object.defineProperty;var $i=Object.getOwnPropertyDescriptor;var Di=Object.getOwnPropertyNames;var Oi=Object.getPrototypeOf,es=Object.prototype.hasOwnProperty;var L=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ts=(t,e)=>{for(var r in e)Xt(t,r,{get:e[r],enumerable:!0})},Sn=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of Di(e))!es.call(t,a)&&a!==r&&Xt(t,a,{get:()=>e[a],enumerable:!(n=$i(e,a))||n.enumerable});return t};var cr=(t,e,r)=>(r=t!=null?Ji(Oi(t)):{},Sn(e||!t||!t.__esModule?Xt(r,"default",{value:t,enumerable:!0}):r,t)),rs=t=>Sn(Xt({},"__esModule",{value:!0}),t);var At=L(Ee=>{"use strict";var ns=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],as=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],is=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],ss=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Gn(t){this.font=t}Gn.prototype.charToGlyphIndex=function(t){var e=t.charCodeAt(0),r=this.font.glyphs;if(r){for(var n=0;n<r.length;n+=1)for(var a=r.get(n),i=0;i<a.unicodes.length;i+=1)if(a.unicodes[i]===e)return n}else return null};function qn(t){this.cmap=t}qn.prototype.charToGlyphIndex=function(t){return this.cmap.glyphIndexMap[t.charCodeAt(0)]||0};function Hn(t,e){this.encoding=t,this.charset=e}Hn.prototype.charToGlyphIndex=function(t){var e=t.charCodeAt(0),r=this.encoding[e];return this.charset.indexOf(r)};function dr(t){var e;switch(t.version){case 1:this.names=Ee.standardNames.slice();break;case 2:for(this.names=new Array(t.numberOfGlyphs),e=0;e<t.numberOfGlyphs;e++)t.glyphNameIndex[e]<Ee.standardNames.length?this.names[e]=Ee.standardNames[t.glyphNameIndex[e]]:this.names[e]=t.names[t.glyphNameIndex[e]-Ee.standardNames.length];break;case 2.5:for(this.names=new Array(t.numberOfGlyphs),e=0;e<t.numberOfGlyphs;e++)this.names[e]=Ee.standardNames[e+t.glyphNameIndex[e]];break;case 3:this.names=[];break}}dr.prototype.nameToGlyphIndex=function(t){return this.names.indexOf(t)};dr.prototype.glyphIndexToName=function(t){return this.names[t]};function os(t){for(var e,r=t.tables.cmap.glyphIndexMap,n=Object.keys(r),a=0;a<n.length;a+=1){var i=n[a],s=r[i];e=t.glyphs.get(s),e.addUnicode(parseInt(i))}for(a=0;a<t.glyphs.length;a+=1)e=t.glyphs.get(a),t.cffEncoding?e.name=t.cffEncoding.charset[a]:e.name=t.glyphNames.glyphIndexToName(a)}Ee.cffStandardStrings=ns;Ee.cffStandardEncoding=as;Ee.cffExpertEncoding=is;Ee.standardNames=ss;Ee.DefaultEncoding=Gn;Ee.CmapEncoding=qn;Ee.CffEncoding=Hn;Ee.GlyphNames=dr;Ee.addGlyphNames=os});var pt=L(Rn=>{"use strict";function Ae(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}Ae.prototype.moveTo=function(t,e){this.commands.push({type:"M",x:t,y:e})};Ae.prototype.lineTo=function(t,e){this.commands.push({type:"L",x:t,y:e})};Ae.prototype.curveTo=Ae.prototype.bezierCurveTo=function(t,e,r,n,a,i){this.commands.push({type:"C",x1:t,y1:e,x2:r,y2:n,x:a,y:i})};Ae.prototype.quadTo=Ae.prototype.quadraticCurveTo=function(t,e,r,n){this.commands.push({type:"Q",x1:t,y1:e,x:r,y:n})};Ae.prototype.close=Ae.prototype.closePath=function(){this.commands.push({type:"Z"})};Ae.prototype.extend=function(t){t.commands&&(t=t.commands),Array.prototype.push.apply(this.commands,t)};Ae.prototype.draw=function(t){t.beginPath();for(var e=0;e<this.commands.length;e+=1){var r=this.commands[e];r.type==="M"?t.moveTo(r.x,r.y):r.type==="L"?t.lineTo(r.x,r.y):r.type==="C"?t.bezierCurveTo(r.x1,r.y1,r.x2,r.y2,r.x,r.y):r.type==="Q"?t.quadraticCurveTo(r.x1,r.y1,r.x,r.y):r.type==="Z"&&t.closePath()}this.fill&&(t.fillStyle=this.fill,t.fill()),this.stroke&&(t.strokeStyle=this.stroke,t.lineWidth=this.strokeWidth,t.stroke())};Ae.prototype.toPathData=function(t){t=t!==void 0?t:2;function e(s){return Math.round(s)===s?""+Math.round(s):s.toFixed(t)}function r(){for(var s="",l=0;l<arguments.length;l+=1){var o=arguments[l];o>=0&&l>0&&(s+=" "),s+=e(o)}return s}for(var n="",a=0;a<this.commands.length;a+=1){var i=this.commands[a];i.type==="M"?n+="M"+r(i.x,i.y):i.type==="L"?n+="L"+r(i.x,i.y):i.type==="C"?n+="C"+r(i.x1,i.y1,i.x2,i.y2,i.x,i.y):i.type==="Q"?n+="Q"+r(i.x1,i.y1,i.x,i.y):i.type==="Z"&&(n+="Z")}return n};Ae.prototype.toSVG=function(t){var e='<path d="';return e+=this.toPathData(t),e+='"',this.fill&this.fill!=="black"&&(this.fill===null?e+=' fill="none"':e+=' fill="'+this.fill+'"'),this.stroke&&(e+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),e+="/>",e};Rn.Path=Ae});var Me=L(Zt=>{"use strict";Zt.argument=function(t,e){if(!t)throw new Error(e)};Zt.assert=Zt.argument});var $t=L(Jt=>{"use strict";var at=Me(),Mn=32768,Yn=2147483648,xr={},B={},j={};function Ve(t){return function(){return t}}B.BYTE=function(t){return at.argument(t>=0&&t<=255,"Byte value should be between 0 and 255."),[t]};j.BYTE=Ve(1);B.CHAR=function(t){return[t.charCodeAt(0)]};j.CHAR=Ve(1);B.CHARARRAY=function(t){for(var e=[],r=0;r<t.length;r+=1)e.push(t.charCodeAt(r));return e};j.CHARARRAY=function(t){return t.length};B.USHORT=function(t){return[t>>8&255,t&255]};j.USHORT=Ve(2);B.SHORT=function(t){return t>=Mn&&(t=-(2*Mn-t)),[t>>8&255,t&255]};j.SHORT=Ve(2);B.UINT24=function(t){return[t>>16&255,t>>8&255,t&255]};j.UINT24=Ve(3);B.ULONG=function(t){return[t>>24&255,t>>16&255,t>>8&255,t&255]};j.ULONG=Ve(4);B.LONG=function(t){return t>=Yn&&(t=-(2*Yn-t)),[t>>24&255,t>>16&255,t>>8&255,t&255]};j.LONG=Ve(4);B.FIXED=B.ULONG;j.FIXED=j.ULONG;B.FWORD=B.SHORT;j.FWORD=j.SHORT;B.UFWORD=B.USHORT;j.UFWORD=j.USHORT;B.LONGDATETIME=function(){return[0,0,0,0,0,0,0,0]};j.LONGDATETIME=Ve(8);B.TAG=function(t){return at.argument(t.length===4,"Tag should be exactly 4 ASCII characters."),[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]};j.TAG=Ve(4);B.Card8=B.BYTE;j.Card8=j.BYTE;B.Card16=B.USHORT;j.Card16=j.USHORT;B.OffSize=B.BYTE;j.OffSize=j.BYTE;B.SID=B.USHORT;j.SID=j.USHORT;B.NUMBER=function(t){return t>=-107&&t<=107?[t+139]:t>=108&&t<=1131?(t=t-108,[(t>>8)+247,t&255]):t>=-1131&&t<=-108?(t=-t-108,[(t>>8)+251,t&255]):t>=-32768&&t<=32767?B.NUMBER16(t):B.NUMBER32(t)};j.NUMBER=function(t){return B.NUMBER(t).length};B.NUMBER16=function(t){return[28,t>>8&255,t&255]};j.NUMBER16=Ve(3);B.NUMBER32=function(t){return[29,t>>24&255,t>>16&255,t>>8&255,t&255]};j.NUMBER32=Ve(5);B.REAL=function(t){var e=t.toString(),r=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(e);if(r){var n=parseFloat("1e"+((r[2]?+r[2]:0)+r[1].length));e=(Math.round(t*n)/n).toString()}var a="",i,s;for(i=0,s=e.length;i<s;i+=1){var l=e[i];l==="e"?a+=e[++i]==="-"?"c":"b":l==="."?a+="a":l==="-"?a+="e":a+=l}a+=a.length&1?"f":"ff";var o=[30];for(i=0,s=a.length;i<s;i+=2)o.push(parseInt(a.substr(i,2),16));return o};j.REAL=function(t){return B.REAL(t).length};B.NAME=B.CHARARRAY;j.NAME=j.CHARARRAY;B.STRING=B.CHARARRAY;j.STRING=j.CHARARRAY;xr.UTF16=function(t,e,r){for(var n=[],a=r/2,i=0;i<a;i++,e+=2)n[i]=t.getUint16(e);return String.fromCharCode.apply(null,n)};B.UTF16=function(t){for(var e=[],r=0;r<t.length;r+=1){var n=t.charCodeAt(r);e.push(n>>8&255),e.push(n&255)}return e};j.UTF16=function(t){return t.length*2};var mr={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"};xr.MACSTRING=function(t,e,r,n){var a=mr[n];if(a!==void 0){for(var i="",s=0;s<r;s++){var l=t.getUint8(e+s);l<=127?i+=String.fromCharCode(l):i+=a[l&127]}return i}};var jt=typeof WeakMap=="function"&&new WeakMap,Qt,ls=function(t){if(!Qt){Qt={};for(var e in mr)Qt[e]=new String(e)}var r=Qt[t];if(r!==void 0){if(jt){var n=jt.get(r);if(n!==void 0)return n}var a=mr[t];if(a!==void 0){for(var i={},s=0;s<a.length;s++)i[a.charCodeAt(s)]=s+128;return jt&&jt.set(r,i),i}}};B.MACSTRING=function(t,e){var r=ls(e);if(r!==void 0){for(var n=[],a=0;a<t.length;a++){var i=t.charCodeAt(a);if(i>=128&&(i=r[i],i===void 0))return;n.push(i)}return n}};j.MACSTRING=function(t,e){var r=B.MACSTRING(t,e);return r!==void 0?r.length:0};B.INDEX=function(t){var e,r=1,n=[r],a=[],i=0;for(e=0;e<t.length;e+=1){var s=B.OBJECT(t[e]);Array.prototype.push.apply(a,s),i+=s.length,r+=s.length,n.push(r)}if(a.length===0)return[0,0];var l=[],o=1+Math.floor(Math.log(i)/Math.log(2))/8|0,h=[void 0,B.BYTE,B.USHORT,B.UINT24,B.ULONG][o];for(e=0;e<n.length;e+=1){var u=h(n[e]);Array.prototype.push.apply(l,u)}return Array.prototype.concat(B.Card16(t.length),B.OffSize(o),l,a)};j.INDEX=function(t){return B.INDEX(t).length};B.DICT=function(t){for(var e=[],r=Object.keys(t),n=r.length,a=0;a<n;a+=1){var i=parseInt(r[a],0),s=t[i];e=e.concat(B.OPERAND(s.value,s.type)),e=e.concat(B.OPERATOR(i))}return e};j.DICT=function(t){return B.DICT(t).length};B.OPERATOR=function(t){return t<1200?[t]:[12,t-1200]};B.OPERAND=function(t,e){var r=[];if(Array.isArray(e))for(var n=0;n<e.length;n+=1)at.argument(t.length===e.length,"Not enough arguments given for type"+e),r=r.concat(B.OPERAND(t[n],e[n]));else if(e==="SID")r=r.concat(B.NUMBER(t));else if(e==="offset")r=r.concat(B.NUMBER32(t));else if(e==="number")r=r.concat(B.NUMBER(t));else if(e==="real")r=r.concat(B.REAL(t));else throw new Error("Unknown operand type "+e);return r};B.OP=B.BYTE;j.OP=j.BYTE;var Kt=typeof WeakMap=="function"&&new WeakMap;B.CHARSTRING=function(t){if(Kt){var e=Kt.get(t);if(e!==void 0)return e}for(var r=[],n=t.length,a=0;a<n;a+=1){var i=t[a];r=r.concat(B[i.type](i.value))}return Kt&&Kt.set(t,r),r};j.CHARSTRING=function(t){return B.CHARSTRING(t).length};B.OBJECT=function(t){var e=B[t.type];return at.argument(e!==void 0,"No encoding function for type "+t.type),e(t.value)};j.OBJECT=function(t){var e=j[t.type];return at.argument(e!==void 0,"No sizeOf function for type "+t.type),e(t.value)};B.TABLE=function(t){for(var e=[],r=t.fields.length,n=0;n<r;n+=1){var a=t.fields[n],i=B[a.type];at.argument(i!==void 0,"No encoding function for field type "+a.type);var s=t[a.name];s===void 0&&(s=a.value);var l=i(s);e=e.concat(l)}return e};j.TABLE=function(t){for(var e=0,r=t.fields.length,n=0;n<r;n+=1){var a=t.fields[n],i=j[a.type];at.argument(i!==void 0,"No sizeOf function for field type "+a.type);var s=t[a.name];s===void 0&&(s=a.value),e+=i(s)}return e};B.LITERAL=function(t){return t};j.LITERAL=function(t){return t.length};Jt.decode=xr;Jt.encode=B;Jt.sizeOf=j});var Ge=L(Wn=>{"use strict";var fs=Me(),hs=$t().encode,us=$t().sizeOf;function vr(t,e,r){var n;for(n=0;n<e.length;n+=1){var a=e[n];this[a.name]=a.value}if(this.tableName=t,this.fields=e,r){var i=Object.keys(r);for(n=0;n<i.length;n+=1){var s=i[n],l=r[s];this[s]!==void 0&&(this[s]=l)}}}vr.prototype.sizeOf=function(){for(var t=0,e=0;e<this.fields.length;e+=1){var r=this.fields[e],n=this[r.name];if(n===void 0&&(n=r.value),typeof n.sizeOf=="function")t+=n.sizeOf();else{var a=us[r.type];fs.assert(typeof a=="function","Could not find sizeOf function for field"+r.name),t+=a(n)}}return t};vr.prototype.encode=function(){return hs.TABLE(this)};Wn.Table=vr});var Be=L(ke=>{"use strict";ke.getByte=function(e,r){return e.getUint8(r)};ke.getCard8=ke.getByte;ke.getUShort=function(t,e){return t.getUint16(e,!1)};ke.getCard16=ke.getUShort;ke.getShort=function(t,e){return t.getInt16(e,!1)};ke.getULong=function(t,e){return t.getUint32(e,!1)};ke.getFixed=function(t,e){var r=t.getInt16(e,!1),n=t.getUint16(e+2,!1);return r+n/65535};ke.getTag=function(t,e){for(var r="",n=e;n<e+4;n+=1)r+=String.fromCharCode(t.getInt8(n));return r};ke.getOffset=function(t,e,r){for(var n=0,a=0;a<r;a+=1)n<<=8,n+=t.getUint8(e+a);return n};ke.getBytes=function(t,e,r){for(var n=[],a=e;a<r;a+=1)n.push(t.getUint8(a));return n};ke.bytesToString=function(t){for(var e="",r=0;r<t.length;r+=1)e+=String.fromCharCode(t[r]);return e};var cs={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Te(t,e){this.data=t,this.offset=e,this.relativeOffset=0}Te.prototype.parseByte=function(){var t=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Te.prototype.parseChar=function(){var t=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,t};Te.prototype.parseCard8=Te.prototype.parseByte;Te.prototype.parseUShort=function(){var t=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Te.prototype.parseCard16=Te.prototype.parseUShort;Te.prototype.parseSID=Te.prototype.parseUShort;Te.prototype.parseOffset16=Te.prototype.parseUShort;Te.prototype.parseShort=function(){var t=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,t};Te.prototype.parseF2Dot14=function(){var t=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,t};Te.prototype.parseULong=function(){var t=ke.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Te.prototype.parseFixed=function(){var t=ke.getFixed(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t};Te.prototype.parseOffset16List=Te.prototype.parseUShortList=function(t){for(var e=new Array(t),r=this.data,n=this.offset+this.relativeOffset,a=0;a<t;a++)e[a]=ke.getUShort(r,n),n+=2;return this.relativeOffset+=t*2,e};Te.prototype.parseString=function(t){var e=this.data,r=this.offset+this.relativeOffset,n="";this.relativeOffset+=t;for(var a=0;a<t;a++)n+=String.fromCharCode(e.getUint8(r+a));return n};Te.prototype.parseTag=function(){return this.parseString(4)};Te.prototype.parseLongDateTime=function(){var t=ke.getULong(this.data,this.offset+this.relativeOffset+4);return this.relativeOffset+=8,t};Te.prototype.parseFixed=function(){var t=ke.getULong(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,t/65536};Te.prototype.parseVersion=function(){var t=ke.getUShort(this.data,this.offset+this.relativeOffset),e=ke.getUShort(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,t+e/4096/10};Te.prototype.skip=function(t,e){e===void 0&&(e=1),this.relativeOffset+=cs[t]*e};ke.Parser=Te});var br=L(gr=>{"use strict";var Vn=Me(),Le=Be(),ps=Ge();function ds(t,e){var r,n={};n.version=Le.getUShort(t,e),Vn.argument(n.version===0,"cmap table version should be 0."),n.numTables=Le.getUShort(t,e+2);var a=-1;for(r=0;r<n.numTables;r+=1){var i=Le.getUShort(t,e+4+r*8),s=Le.getUShort(t,e+4+r*8+2);if(i===3&&(s===1||s===0)){a=Le.getULong(t,e+4+r*8+4);break}}if(a===-1)return null;var l=new Le.Parser(t,e+a);n.format=l.parseUShort(),Vn.argument(n.format===4,"Only format 4 cmap tables are supported."),n.length=l.parseUShort(),n.language=l.parseUShort();var o;n.segCount=o=l.parseUShort()>>1,l.skip("uShort",3),n.glyphIndexMap={};var h=new Le.Parser(t,e+a+14),u=new Le.Parser(t,e+a+16+o*2),c=new Le.Parser(t,e+a+16+o*4),p=new Le.Parser(t,e+a+16+o*6),d=e+a+16+o*8;for(r=0;r<o-1;r+=1)for(var m,F=h.parseUShort(),b=u.parseUShort(),I=c.parseShort(),w=p.parseUShort(),x=b;x<=F;x+=1)w!==0?(d=p.offset+p.relativeOffset-2,d+=w,d+=(x-b)*2,m=Le.getUShort(t,d),m!==0&&(m=m+I&65535)):m=x+I&65535,n.glyphIndexMap[x]=m;return n}function ms(t,e,r){t.segments.push({end:e,start:e,delta:-(e-r),offset:0})}function xs(t){t.segments.push({end:65535,start:65535,delta:1,offset:0})}function vs(t){var e,r=new ps.Table("cmap",[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:1},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:12},{name:"format",type:"USHORT",value:4},{name:"length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);for(r.segments=[],e=0;e<t.length;e+=1){for(var n=t.get(e),a=0;a<n.unicodes.length;a+=1)ms(r,n.unicodes[a],e);r.segments=r.segments.sort(function(p,d){return p.start-d.start})}xs(r);var i;i=r.segments.length,r.segCountX2=i*2,r.searchRange=Math.pow(2,Math.floor(Math.log(i)/Math.log(2)))*2,r.entrySelector=Math.log(r.searchRange/2)/Math.log(2),r.rangeShift=r.segCountX2-r.searchRange;var s=[],l=[],o=[],h=[],u=[];for(e=0;e<i;e+=1){var c=r.segments[e];s=s.concat({name:"end_"+e,type:"USHORT",value:c.end}),l=l.concat({name:"start_"+e,type:"USHORT",value:c.start}),o=o.concat({name:"idDelta_"+e,type:"SHORT",value:c.delta}),h=h.concat({name:"idRangeOffset_"+e,type:"USHORT",value:c.offset}),c.glyphId!==void 0&&(u=u.concat({name:"glyph_"+e,type:"USHORT",value:c.glyphId}))}return r.fields=r.fields.concat(s),r.fields.push({name:"reservedPad",type:"USHORT",value:0}),r.fields=r.fields.concat(l),r.fields=r.fields.concat(o),r.fields=r.fields.concat(h),r.fields=r.fields.concat(u),r.length=14+s.length*2+2+l.length*2+o.length*2+h.length*2+u.length*2,r}gr.parse=ds;gr.make=vs});var Xn=L(Ln=>{"use strict";function gs(t,e,r,n,a){t.beginPath(),t.moveTo(e,r),t.lineTo(n,a),t.stroke()}Ln.line=gs});var yr=L(zn=>{"use strict";var bs=Me(),it=Xn(),ys=pt();function Ts(t,e){var r=e||{commands:[]};return{configurable:!0,get:function(){return typeof r=="function"&&(r=r()),r},set:function(n){r=n}}}function De(t){this.bindConstructorValues(t)}De.prototype.bindConstructorValues=function(t){this.index=t.index||0,this.name=t.name||null,this.unicode=t.unicode||void 0,this.unicodes=t.unicodes||t.unicode!==void 0?[t.unicode]:[],t.xMin&&(this.xMin=t.xMin),t.yMin&&(this.yMin=t.yMin),t.xMax&&(this.xMax=t.xMax),t.yMax&&(this.yMax=t.yMax),t.advanceWidth&&(this.advanceWidth=t.advanceWidth),Object.defineProperty(this,"path",Ts(this,t.path))};De.prototype.addUnicode=function(t){this.unicodes.length===0&&(this.unicode=t),this.unicodes.push(t)};De.prototype.getPath=function(t,e,r){t=t!==void 0?t:0,e=e!==void 0?e:0,r=r!==void 0?r:72;for(var n=1/this.path.unitsPerEm*r,a=new ys.Path,i=this.path.commands,s=0;s<i.length;s+=1){var l=i[s];l.type==="M"?a.moveTo(t+l.x*n,e+-l.y*n):l.type==="L"?a.lineTo(t+l.x*n,e+-l.y*n):l.type==="Q"?a.quadraticCurveTo(t+l.x1*n,e+-l.y1*n,t+l.x*n,e+-l.y*n):l.type==="C"?a.curveTo(t+l.x1*n,e+-l.y1*n,t+l.x2*n,e+-l.y2*n,t+l.x*n,e+-l.y*n):l.type==="Z"&&a.closePath()}return a};De.prototype.getContours=function(){if(this.points===void 0)return[];for(var t=[],e=[],r=0;r<this.points.length;r+=1){var n=this.points[r];e.push(n),n.lastPointOfContour&&(t.push(e),e=[])}return bs.argument(e.length===0,"There are still points left in the current contour."),t};De.prototype.getMetrics=function(){for(var t=this.path.commands,e=[],r=[],n=0;n<t.length;n+=1){var a=t[n];a.type!=="Z"&&(e.push(a.x),r.push(a.y)),(a.type==="Q"||a.type==="C")&&(e.push(a.x1),r.push(a.y1)),a.type==="C"&&(e.push(a.x2),r.push(a.y2))}var i={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,e),yMax:Math.max.apply(null,r),leftSideBearing:0};return isFinite(i.xMin)||(i.xMin=0),isFinite(i.xMax)||(i.xMax=this.advanceWidth),isFinite(i.yMin)||(i.yMin=0),isFinite(i.yMax)||(i.yMax=0),i.rightSideBearing=this.advanceWidth-i.leftSideBearing-(i.xMax-i.xMin),i};De.prototype.draw=function(t,e,r,n){this.getPath(e,r,n).draw(t)};De.prototype.drawPoints=function(t,e,r,n){function a(c,p,d,m){var F=Math.PI*2;t.beginPath();for(var b=0;b<c.length;b+=1)t.moveTo(p+c[b].x*m,d+c[b].y*m),t.arc(p+c[b].x*m,d+c[b].y*m,2,0,F,!1);t.closePath(),t.fill()}e=e!==void 0?e:0,r=r!==void 0?r:0,n=n!==void 0?n:24;for(var i=1/this.path.unitsPerEm*n,s=[],l=[],o=this.path,h=0;h<o.commands.length;h+=1){var u=o.commands[h];u.x!==void 0&&s.push({x:u.x,y:-u.y}),u.x1!==void 0&&l.push({x:u.x1,y:-u.y1}),u.x2!==void 0&&l.push({x:u.x2,y:-u.y2})}t.fillStyle="blue",a(s,e,r,i),t.fillStyle="red",a(l,e,r,i)};De.prototype.drawMetrics=function(t,e,r,n){var a;e=e!==void 0?e:0,r=r!==void 0?r:0,n=n!==void 0?n:24,a=1/this.path.unitsPerEm*n,t.lineWidth=1,t.strokeStyle="black",it.line(t,e,-1e4,e,1e4),it.line(t,-1e4,r,1e4,r);var i=this.xMin||0,s=this.yMin||0,l=this.xMax||0,o=this.yMax||0,h=this.advanceWidth||0;t.strokeStyle="blue",it.line(t,e+i*a,-1e4,e+i*a,1e4),it.line(t,e+l*a,-1e4,e+l*a,1e4),it.line(t,-1e4,r+-s*a,1e4,r+-s*a),it.line(t,-1e4,r+-o*a,1e4,r+-o*a),t.strokeStyle="green",it.line(t,e+h*a,-1e4,e+h*a,1e4)};zn.Glyph=De});var Dt=L(Gt=>{"use strict";var Tr=yr();function wr(t,e){if(this.font=t,this.glyphs={},Array.isArray(e))for(var r=0;r<e.length;r++)this.glyphs[r]=e[r];this.length=e&&e.length||0}wr.prototype.get=function(t){return typeof this.glyphs[t]=="function"&&(this.glyphs[t]=this.glyphs[t]()),this.glyphs[t]};wr.prototype.push=function(t,e){this.glyphs[t]=e,this.length++};function ws(t,e){return new Tr.Glyph({index:e,font:t})}function Fs(t,e,r,n,a,i){return function(){var s=new Tr.Glyph({index:e,font:t});return s.path=function(){r(s,n,a);var l=i(t.glyphs,s);return l.unitsPerEm=t.unitsPerEm,l},s}}function ks(t,e,r,n){return function(){var a=new Tr.Glyph({index:e,font:t});return a.path=function(){var i=r(t,a,n);return i.unitsPerEm=t.unitsPerEm,i},a}}Gt.GlyphSet=wr;Gt.glyphLoader=ws;Gt.ttfGlyphLoader=Fs;Gt.cffGlyphLoader=ks});var kr=L(Fr=>{"use strict";var Oe=At(),Nn=Dt(),qe=Be(),Is=pt(),Xe=Ge();function Kn(t,e){if(t===e)return!0;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r+=1)if(!Kn(t[r],e[r]))return!1;return!0}else return!1}function dt(t,e,r){var n=[],a=[],i=qe.getCard16(t,e),s,l,o;if(i!==0){var h=qe.getByte(t,e+2);l=e+(i+1)*h+2;var u=e+3;for(s=0;s<i+1;s+=1)n.push(qe.getOffset(t,u,h)),u+=h;o=l+n[i]}else o=e+2;for(s=0;s<n.length-1;s+=1){var c=qe.getBytes(t,l+n[s],l+n[s+1]);r&&(c=r(c)),a.push(c)}return{objects:a,startOffset:e,endOffset:o}}function Us(t){for(var e="",r=15,n=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var a=t.parseByte(),i=a>>4,s=a&15;if(i===r||(e+=n[i],s===r))break;e+=n[s]}return parseFloat(e)}function _s(t,e){var r,n,a,i;if(e===28)return r=t.parseByte(),n=t.parseByte(),r<<8|n;if(e===29)return r=t.parseByte(),n=t.parseByte(),a=t.parseByte(),i=t.parseByte(),r<<24|n<<16|a<<8|i;if(e===30)return Us(t);if(e>=32&&e<=246)return e-139;if(e>=247&&e<=250)return r=t.parseByte(),(e-247)*256+r+108;if(e>=251&&e<=254)return r=t.parseByte(),-(e-251)*256-r-108;throw new Error("Invalid b0 "+e)}function Ps(t){for(var e={},r=0;r<t.length;r+=1){var n=t[r][0],a=t[r][1],i;if(a.length===1?i=a[0]:i=a,e.hasOwnProperty(n))throw new Error("Object "+e+" already has key "+n);e[n]=i}return e}function Jn(t,e,r){e=e!==void 0?e:0;var n=new qe.Parser(t,e),a=[],i=[];for(r=r!==void 0?r:t.length;n.relativeOffset<r;){var s=n.parseByte();s<=21?(s===12&&(s=1200+n.parseByte()),a.push([s,i]),i=[]):i.push(_s(n,s))}return Ps(a)}function Ot(t,e){return e<=390?e=Oe.cffStandardStrings[e]:e=t[e-391],e}function $n(t,e,r){for(var n={},a=0;a<e.length;a+=1){var i=e[a],s=t[i.op];s===void 0&&(s=i.value!==void 0?i.value:null),i.type==="SID"&&(s=Ot(r,s)),n[i.name]=s}return n}function Bs(t,e){var r={};return r.formatMajor=qe.getCard8(t,e),r.formatMinor=qe.getCard8(t,e+1),r.size=qe.getCard8(t,e+2),r.offsetSize=qe.getCard8(t,e+3),r.startOffset=e,r.endOffset=e+4,r}var Dn=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]}],On=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Ss(t,e){var r=Jn(t,0,t.byteLength);return $n(r,Dn,e)}function Es(t,e,r,n){var a=Jn(t,e,r);return $n(a,On,n)}function Cs(t,e,r,n){var a,i,s,l=new qe.Parser(t,e);r-=1;var o=[".notdef"],h=l.parseCard8();if(h===0)for(a=0;a<r;a+=1)i=l.parseSID(),o.push(Ot(n,i));else if(h===1)for(;o.length<=r;)for(i=l.parseSID(),s=l.parseCard8(),a=0;a<=s;a+=1)o.push(Ot(n,i)),i+=1;else if(h===2)for(;o.length<=r;)for(i=l.parseSID(),s=l.parseCard16(),a=0;a<=s;a+=1)o.push(Ot(n,i)),i+=1;else throw new Error("Unknown charset format "+h);return o}function As(t,e,r){var n,a,i={},s=new qe.Parser(t,e),l=s.parseCard8();if(l===0){var o=s.parseCard8();for(n=0;n<o;n+=1)a=s.parseCard8(),i[a]=n}else if(l===1){var h=s.parseCard8();for(a=1,n=0;n<h;n+=1)for(var u=s.parseCard8(),c=s.parseCard8(),p=u;p<=u+c;p+=1)i[p]=a,a+=1}else throw new Error("Unknown encoding format "+l);return new Oe.CffEncoding(i,r)}function Gs(t,e,r){var n,a,i,s,l=new Is.Path,o=[],h=0,u=!1,c=t.defaultWidthX,p=!1,d=0,m=0;function F(w,x){p&&l.closePath(),l.moveTo(w,x),p=!0}function b(){var w;w=o.length%2!==0,w&&!u&&(c=o.shift()+t.nominalWidthX),h+=o.length>>1,o.length=0,u=!0}function I(w){for(var x,U,y,W,T,R,S,E,G,V,C,z,P=0;P<w.length;){var H=w[P];switch(P+=1,H){case 1:b();break;case 3:b();break;case 4:o.length>1&&!u&&(c=o.shift()+t.nominalWidthX,u=!0),m+=o.pop(),F(d,m);break;case 5:for(;o.length>0;)d+=o.shift(),m+=o.shift(),l.lineTo(d,m);break;case 6:for(;o.length>0&&(d+=o.shift(),l.lineTo(d,m),o.length!==0);)m+=o.shift(),l.lineTo(d,m);break;case 7:for(;o.length>0&&(m+=o.shift(),l.lineTo(d,m),o.length!==0);)d+=o.shift(),l.lineTo(d,m);break;case 8:for(;o.length>0;)n=d+o.shift(),a=m+o.shift(),i=n+o.shift(),s=a+o.shift(),d=i+o.shift(),m=s+o.shift(),l.curveTo(n,a,i,s,d,m);break;case 10:T=o.pop()+t.subrsBias,R=t.subrs[T],R&&I(R);break;case 11:return;case 12:switch(H=w[P],P+=1,H){case 35:n=d+o.shift(),a=m+o.shift(),i=n+o.shift(),s=a+o.shift(),S=i+o.shift(),E=s+o.shift(),G=S+o.shift(),V=E+o.shift(),C=G+o.shift(),z=V+o.shift(),d=C+o.shift(),m=z+o.shift(),o.shift(),l.curveTo(n,a,i,s,S,E),l.curveTo(G,V,C,z,d,m);break;case 34:n=d+o.shift(),a=m,i=n+o.shift(),s=a+o.shift(),S=i+o.shift(),E=s,G=S+o.shift(),V=s,C=G+o.shift(),z=m,d=C+o.shift(),l.curveTo(n,a,i,s,S,E),l.curveTo(G,V,C,z,d,m);break;case 36:n=d+o.shift(),a=m+o.shift(),i=n+o.shift(),s=a+o.shift(),S=i+o.shift(),E=s,G=S+o.shift(),V=s,C=G+o.shift(),z=V+o.shift(),d=C+o.shift(),l.curveTo(n,a,i,s,S,E),l.curveTo(G,V,C,z,d,m);break;case 37:n=d+o.shift(),a=m+o.shift(),i=n+o.shift(),s=a+o.shift(),S=i+o.shift(),E=s+o.shift(),G=S+o.shift(),V=E+o.shift(),C=G+o.shift(),z=V+o.shift(),Math.abs(C-d)>Math.abs(z-m)?d=C+o.shift():m=z+o.shift(),l.curveTo(n,a,i,s,S,E),l.curveTo(G,V,C,z,d,m);break;default:console.log("Glyph "+e.index+": unknown operator 1200"+H),o.length=0}break;case 14:o.length>0&&!u&&(c=o.shift()+t.nominalWidthX,u=!0),p&&(l.closePath(),p=!1);break;case 18:b();break;case 19:case 20:b(),P+=h+7>>3;break;case 21:o.length>2&&!u&&(c=o.shift()+t.nominalWidthX,u=!0),m+=o.pop(),d+=o.pop(),F(d,m);break;case 22:o.length>1&&!u&&(c=o.shift()+t.nominalWidthX,u=!0),d+=o.pop(),F(d,m);break;case 23:b();break;case 24:for(;o.length>2;)n=d+o.shift(),a=m+o.shift(),i=n+o.shift(),s=a+o.shift(),d=i+o.shift(),m=s+o.shift(),l.curveTo(n,a,i,s,d,m);d+=o.shift(),m+=o.shift(),l.lineTo(d,m);break;case 25:for(;o.length>6;)d+=o.shift(),m+=o.shift(),l.lineTo(d,m);n=d+o.shift(),a=m+o.shift(),i=n+o.shift(),s=a+o.shift(),d=i+o.shift(),m=s+o.shift(),l.curveTo(n,a,i,s,d,m);break;case 26:for(o.length%2&&(d+=o.shift());o.length>0;)n=d,a=m+o.shift(),i=n+o.shift(),s=a+o.shift(),d=i,m=s+o.shift(),l.curveTo(n,a,i,s,d,m);break;case 27:for(o.length%2&&(m+=o.shift());o.length>0;)n=d+o.shift(),a=m,i=n+o.shift(),s=a+o.shift(),d=i+o.shift(),m=s,l.curveTo(n,a,i,s,d,m);break;case 28:x=w[P],U=w[P+1],o.push((x<<24|U<<16)>>16),P+=2;break;case 29:T=o.pop()+t.gsubrsBias,R=t.gsubrs[T],R&&I(R);break;case 30:for(;o.length>0&&(n=d,a=m+o.shift(),i=n+o.shift(),s=a+o.shift(),d=i+o.shift(),m=s+(o.length===1?o.shift():0),l.curveTo(n,a,i,s,d,m),o.length!==0);)n=d+o.shift(),a=m,i=n+o.shift(),s=a+o.shift(),m=s+o.shift(),d=i+(o.length===1?o.shift():0),l.curveTo(n,a,i,s,d,m);break;case 31:for(;o.length>0&&(n=d+o.shift(),a=m,i=n+o.shift(),s=a+o.shift(),m=s+o.shift(),d=i+(o.length===1?o.shift():0),l.curveTo(n,a,i,s,d,m),o.length!==0);)n=d,a=m+o.shift(),i=n+o.shift(),s=a+o.shift(),d=i+o.shift(),m=s+(o.length===1?o.shift():0),l.curveTo(n,a,i,s,d,m);break;default:H<32?console.log("Glyph "+e.index+": unknown operator "+H):H<247?o.push(H-139):H<251?(x=w[P],P+=1,o.push((H-247)*256+x+108)):H<255?(x=w[P],P+=1,o.push(-(H-251)*256-x-108)):(x=w[P],U=w[P+1],y=w[P+2],W=w[P+3],P+=4,o.push((x<<24|U<<16|y<<8|W)/65536))}}}return I(r),e.advanceWidth=c,l}function Zn(t){var e;return t.length<1240?e=107:t.length<33900?e=1131:e=32768,e}function qs(t,e,r){r.tables.cff={};var n=Bs(t,e),a=dt(t,n.endOffset,qe.bytesToString),i=dt(t,a.endOffset),s=dt(t,i.endOffset,qe.bytesToString),l=dt(t,s.endOffset);r.gsubrs=l.objects,r.gsubrsBias=Zn(r.gsubrs);var o=new DataView(new Uint8Array(i.objects[0]).buffer),h=Ss(o,s.objects);r.tables.cff.topDict=h;var u=e+h.private[1],c=Es(t,u,h.private[0],s.objects);if(r.defaultWidthX=c.defaultWidthX,r.nominalWidthX=c.nominalWidthX,c.subrs!==0){var p=u+c.subrs,d=dt(t,p);r.subrs=d.objects,r.subrsBias=Zn(r.subrs)}else r.subrs=[],r.subrsBias=0;var m=dt(t,e+h.charStrings);r.nGlyphs=m.objects.length;var F=Cs(t,e+h.charset,r.nGlyphs,s.objects);h.encoding===0?r.cffEncoding=new Oe.CffEncoding(Oe.cffStandardEncoding,F):h.encoding===1?r.cffEncoding=new Oe.CffEncoding(Oe.cffExpertEncoding,F):r.cffEncoding=As(t,e+h.encoding,F),r.encoding=r.encoding||r.cffEncoding,r.glyphs=new Nn.GlyphSet(r);for(var b=0;b<r.nGlyphs;b+=1){var I=m.objects[b];r.glyphs.push(b,Nn.cffGlyphLoader(r,b,Gs,I))}}function ea(t,e){var r,n=Oe.cffStandardStrings.indexOf(t);return n>=0&&(r=n),n=e.indexOf(t),n>=0?r=n+Oe.cffStandardStrings.length:(r=Oe.cffStandardStrings.length+e.length,e.push(t)),r}function Hs(){return new Xe.Table("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}])}function Rs(t){var e=new Xe.Table("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);e.names=[];for(var r=0;r<t.length;r+=1)e.names.push({name:"name_"+r,type:"NAME",value:t[r]});return e}function ta(t,e,r){for(var n={},a=0;a<t.length;a+=1){var i=t[a],s=e[i.name];s!==void 0&&!Kn(s,i.value)&&(i.type==="SID"&&(s=ea(s,r)),n[i.op]={name:i.name,type:i.type,value:s})}return n}function jn(t,e){var r=new Xe.Table("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=ta(Dn,t,e),r}function Qn(t){var e=new Xe.Table("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return e.topDicts=[{name:"topDict_0",type:"TABLE",value:t}],e}function Ms(t){var e=new Xe.Table("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);e.strings=[];for(var r=0;r<t.length;r+=1)e.strings.push({name:"string_"+r,type:"STRING",value:t[r]});return e}function Ys(){return new Xe.Table("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}])}function Ws(t,e){for(var r=new Xe.Table("Charsets",[{name:"format",type:"Card8",value:0}]),n=0;n<t.length;n+=1){var a=t[n],i=ea(a,e);r.fields.push({name:"glyph_"+n,type:"SID",value:i})}return r}function Vs(t){var e=[],r=t.path;e.push({name:"width",type:"NUMBER",value:t.advanceWidth});for(var n=0,a=0,i=0;i<r.commands.length;i+=1){var s,l,o=r.commands[i];if(o.type==="Q"){var h=.3333333333333333,u=2/3;o={type:"C",x:o.x,y:o.y,x1:h*n+u*o.x1,y1:h*a+u*o.y1,x2:h*o.x+u*o.x1,y2:h*o.y+u*o.y1}}if(o.type==="M")s=Math.round(o.x-n),l=Math.round(o.y-a),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:l}),e.push({name:"rmoveto",type:"OP",value:21}),n=Math.round(o.x),a=Math.round(o.y);else if(o.type==="L")s=Math.round(o.x-n),l=Math.round(o.y-a),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:l}),e.push({name:"rlineto",type:"OP",value:5}),n=Math.round(o.x),a=Math.round(o.y);else if(o.type==="C"){var c=Math.round(o.x1-n),p=Math.round(o.y1-a),d=Math.round(o.x2-o.x1),m=Math.round(o.y2-o.y1);s=Math.round(o.x-o.x2),l=Math.round(o.y-o.y2),e.push({name:"dx1",type:"NUMBER",value:c}),e.push({name:"dy1",type:"NUMBER",value:p}),e.push({name:"dx2",type:"NUMBER",value:d}),e.push({name:"dy2",type:"NUMBER",value:m}),e.push({name:"dx",type:"NUMBER",value:s}),e.push({name:"dy",type:"NUMBER",value:l}),e.push({name:"rrcurveto",type:"OP",value:8}),n=Math.round(o.x),a=Math.round(o.y)}}return e.push({name:"endchar",type:"OP",value:14}),e}function Ls(t){for(var e=new Xe.Table("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),r=0;r<t.length;r+=1){var n=t.get(r),a=Vs(n);e.charStrings.push({name:n.name,type:"CHARSTRING",value:a})}return e}function Xs(t,e){var r=new Xe.Table("Private DICT",[{name:"dict",type:"DICT",value:{}}]);return r.dict=ta(On,t,e),r}function zs(t){var e=new Xe.Table("Private DICT INDEX",[{name:"privateDicts",type:"INDEX",value:[]}]);return e.privateDicts=[{name:"privateDict_0",type:"TABLE",value:t}],e}function Ns(t,e){for(var r=new Xe.Table("CFF ",[{name:"header",type:"TABLE"},{name:"nameIndex",type:"TABLE"},{name:"topDictIndex",type:"TABLE"},{name:"stringIndex",type:"TABLE"},{name:"globalSubrIndex",type:"TABLE"},{name:"charsets",type:"TABLE"},{name:"charStringsIndex",type:"TABLE"},{name:"privateDictIndex",type:"TABLE"}]),n=1/e.unitsPerEm,a={version:e.version,fullName:e.fullName,familyName:e.familyName,weight:e.weightName,fontMatrix:[n,0,0,n,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},i={},s=[],l,o=1;o<t.length;o+=1)l=t.get(o),s.push(l.name);var h=[];r.header=Hs(),r.nameIndex=Rs([e.postScriptName]);var u=jn(a,h);r.topDictIndex=Qn(u),r.globalSubrIndex=Ys(),r.charsets=Ws(s,h),r.charStringsIndex=Ls(t);var c=Xs(i,h);r.privateDictIndex=zs(c),r.stringIndex=Ms(h);var p=r.header.sizeOf()+r.nameIndex.sizeOf()+r.topDictIndex.sizeOf()+r.stringIndex.sizeOf()+r.globalSubrIndex.sizeOf();return a.charset=p,a.encoding=0,a.charStrings=a.charset+r.charsets.sizeOf(),a.private[1]=a.charStrings+r.charStringsIndex.sizeOf(),u=jn(a,h),r.topDictIndex=Qn(u),r}Fr.parse=qs;Fr.make=Ns});var Ur=L(Ir=>{"use strict";var Zs=Me(),js=Be(),Qs=Ge();function Ks(t,e){var r={},n=new js.Parser(t,e);return r.version=n.parseVersion(),r.fontRevision=Math.round(n.parseFixed()*1e3)/1e3,r.checkSumAdjustment=n.parseULong(),r.magicNumber=n.parseULong(),Zs.argument(r.magicNumber===1594834165,"Font header has wrong magic number."),r.flags=n.parseUShort(),r.unitsPerEm=n.parseUShort(),r.created=n.parseLongDateTime(),r.modified=n.parseLongDateTime(),r.xMin=n.parseShort(),r.yMin=n.parseShort(),r.xMax=n.parseShort(),r.yMax=n.parseShort(),r.macStyle=n.parseUShort(),r.lowestRecPPEM=n.parseUShort(),r.fontDirectionHint=n.parseShort(),r.indexToLocFormat=n.parseShort(),r.glyphDataFormat=n.parseShort(),r}function Js(t){return new Qs.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:0},{name:"modified",type:"LONGDATETIME",value:0},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],t)}Ir.parse=Ks;Ir.make=Js});var Pr=L(_r=>{"use strict";var $s=Be(),Ds=Ge();function Os(t,e){var r={},n=new $s.Parser(t,e);return r.version=n.parseVersion(),r.ascender=n.parseShort(),r.descender=n.parseShort(),r.lineGap=n.parseShort(),r.advanceWidthMax=n.parseUShort(),r.minLeftSideBearing=n.parseShort(),r.minRightSideBearing=n.parseShort(),r.xMaxExtent=n.parseShort(),r.caretSlopeRise=n.parseShort(),r.caretSlopeRun=n.parseShort(),r.caretOffset=n.parseShort(),n.relativeOffset+=8,r.metricDataFormat=n.parseShort(),r.numberOfHMetrics=n.parseUShort(),r}function eo(t){return new Ds.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],t)}_r.parse=Os;_r.make=eo});var Sr=L(Br=>{"use strict";var to=Be(),ro=Ge();function no(t,e,r,n,a){for(var i,s,l=new to.Parser(t,e),o=0;o<n;o+=1){o<r&&(i=l.parseUShort(),s=l.parseShort());var h=a.get(o);h.advanceWidth=i,h.leftSideBearing=s}}function ao(t){for(var e=new ro.Table("hmtx",[]),r=0;r<t.length;r+=1){var n=t.get(r),a=n.advanceWidth||0,i=n.leftSideBearing||0;e.fields.push({name:"advanceWidth_"+r,type:"USHORT",value:a}),e.fields.push({name:"leftSideBearing_"+r,type:"SHORT",value:i})}return e}Br.parse=no;Br.make=ao});var Cr=L(Er=>{"use strict";var io=Me(),so=Be(),oo=Ge();function lo(t){for(var e=new oo.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:t.length}]),r="",n=12+t.length*4,a=0;a<t.length;++a){var i=r.indexOf(t[a]);i<0&&(i=r.length,r+=t[a]),e.fields.push({name:"offset "+a,type:"USHORT",value:n+i}),e.fields.push({name:"length "+a,type:"USHORT",value:t[a].length})}return e.fields.push({name:"stringPool",type:"CHARARRAY",value:r}),e}function fo(t,e){var r=new so.Parser(t,e),n=r.parseULong();io.argument(n===1,"Unsupported ltag table version."),r.skip("uLong",1);for(var a=r.parseULong(),i=[],s=0;s<a;s++){for(var l="",o=e+r.parseUShort(),h=r.parseUShort(),u=o;u<o+h;++u)l+=String.fromCharCode(t.getInt8(u));i.push(l)}return i}Er.make=lo;Er.parse=fo});var Gr=L(Ar=>{"use strict";var ho=Be(),uo=Ge();function co(t,e){var r={},n=new ho.Parser(t,e);return r.version=n.parseVersion(),r.numGlyphs=n.parseUShort(),r.version===1&&(r.maxPoints=n.parseUShort(),r.maxContours=n.parseUShort(),r.maxCompositePoints=n.parseUShort(),r.maxCompositeContours=n.parseUShort(),r.maxZones=n.parseUShort(),r.maxTwilightPoints=n.parseUShort(),r.maxStorage=n.parseUShort(),r.maxFunctionDefs=n.parseUShort(),r.maxInstructionDefs=n.parseUShort(),r.maxStackElements=n.parseUShort(),r.maxSizeOfInstructions=n.parseUShort(),r.maxComponentElements=n.parseUShort(),r.maxComponentDepth=n.parseUShort()),r}function po(t){return new uo.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:t}])}Ar.parse=co;Ar.make=po});var Yr=L(Mr=>{"use strict";var ia=$t(),ra=ia.decode,qr=ia.encode,mo=Be(),sa=Ge(),oa=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","licence","licenceURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],la={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},xo={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},fa={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"};function vo(t,e,r){switch(t){case 0:if(e===65535)return"und";if(r)return r[e];break;case 1:return la[e];case 3:return fa[e]}}var Rr="utf-16",go={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},bo={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function ha(t,e,r){switch(t){case 0:return Rr;case 1:return bo[r]||go[e];case 3:if(e===1||e===10)return Rr;break}}function yo(t,e,r){for(var n={},a=new mo.Parser(t,e),i=a.parseUShort(),s=a.parseUShort(),l=a.offset+a.parseUShort(),o=0;o<s;o++){var h=a.parseUShort(),u=a.parseUShort(),c=a.parseUShort(),p=a.parseUShort(),d=oa[p]||p,m=a.parseUShort(),F=a.parseUShort(),b=vo(h,c,r),I=ha(h,u,c);if(I!==void 0&&b!==void 0){var w;if(I===Rr?w=ra.UTF16(t,l+F,m):w=ra.MACSTRING(t,l+F,m,I),w){var x=n[d];x===void 0&&(x=n[d]={}),x[b]=w}}}var U=0;return i===1&&(U=a.parseUShort()),n}function Hr(t){var e={};for(var r in t)e[t[r]]=parseInt(r);return e}function na(t,e,r,n,a,i){return new sa.Table("NameRecord",[{name:"platformID",type:"USHORT",value:t},{name:"encodingID",type:"USHORT",value:e},{name:"languageID",type:"USHORT",value:r},{name:"nameID",type:"USHORT",value:n},{name:"length",type:"USHORT",value:a},{name:"offset",type:"USHORT",value:i}])}function To(t,e){var r=t.length,n=e.length-r+1;e:for(var a=0;a<n;a++)for(;a<n;a++){for(var i=0;i<r;i++)if(e[a+i]!==t[i])continue e;return a}return-1}function aa(t,e){var r=To(t,e);if(r<0){r=e.length;for(var n=0,a=t.length;n<a;++n)e.push(t[n])}return r}function wo(t,e){var r,n=[],a={},i=Hr(oa);for(var s in t){var l=i[s];l===void 0&&(l=s),r=parseInt(l),a[r]=t[s],n.push(r)}for(var o=Hr(la),h=Hr(fa),u=[],c=[],p=0;p<n.length;p++){r=n[p];var d=a[r];for(var m in d){var F=d[m],b=1,I=o[m],w=xo[I],x=ha(b,w,I),U=qr.MACSTRING(F,x);U===void 0&&(b=0,I=e.indexOf(m),I<0&&(I=e.length,e.push(m)),w=4,U=qr.UTF16(F));var y=aa(U,c);u.push(na(b,w,I,r,U.length,y));var W=h[m];if(W!==void 0){var T=qr.UTF16(F),R=aa(T,c);u.push(na(3,1,W,r,T.length,R))}}}u.sort(function(G,V){return G.platformID-V.platformID||G.encodingID-V.encodingID||G.languageID-V.languageID||G.nameID-V.nameID});for(var S=new sa.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:u.length},{name:"stringOffset",type:"USHORT",value:6+u.length*12}]),E=0;E<u.length;E++)S.fields.push({name:"record_"+E,type:"TABLE",value:u[E]});return S.fields.push({name:"strings",type:"LITERAL",value:c}),S}Mr.parse=yo;Mr.make=wo});var Vr=L(qt=>{"use strict";var Fo=Be(),ko=Ge(),Wr=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function Io(t){for(var e=0;e<Wr.length;e+=1){var r=Wr[e];if(t>=r.begin&&t<r.end)return e}return-1}function Uo(t,e){var r={},n=new Fo.Parser(t,e);r.version=n.parseUShort(),r.xAvgCharWidth=n.parseShort(),r.usWeightClass=n.parseUShort(),r.usWidthClass=n.parseUShort(),r.fsType=n.parseUShort(),r.ySubscriptXSize=n.parseShort(),r.ySubscriptYSize=n.parseShort(),r.ySubscriptXOffset=n.parseShort(),r.ySubscriptYOffset=n.parseShort(),r.ySuperscriptXSize=n.parseShort(),r.ySuperscriptYSize=n.parseShort(),r.ySuperscriptXOffset=n.parseShort(),r.ySuperscriptYOffset=n.parseShort(),r.yStrikeoutSize=n.parseShort(),r.yStrikeoutPosition=n.parseShort(),r.sFamilyClass=n.parseShort(),r.panose=[];for(var a=0;a<10;a++)r.panose[a]=n.parseByte();return r.ulUnicodeRange1=n.parseULong(),r.ulUnicodeRange2=n.parseULong(),r.ulUnicodeRange3=n.parseULong(),r.ulUnicodeRange4=n.parseULong(),r.achVendID=String.fromCharCode(n.parseByte(),n.parseByte(),n.parseByte(),n.parseByte()),r.fsSelection=n.parseUShort(),r.usFirstCharIndex=n.parseUShort(),r.usLastCharIndex=n.parseUShort(),r.sTypoAscender=n.parseShort(),r.sTypoDescender=n.parseShort(),r.sTypoLineGap=n.parseShort(),r.usWinAscent=n.parseUShort(),r.usWinDescent=n.parseUShort(),r.version>=1&&(r.ulCodePageRange1=n.parseULong(),r.ulCodePageRange2=n.parseULong()),r.version>=2&&(r.sxHeight=n.parseShort(),r.sCapHeight=n.parseShort(),r.usDefaultChar=n.parseUShort(),r.usBreakChar=n.parseUShort(),r.usMaxContent=n.parseUShort()),r}function _o(t){return new ko.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],t)}qt.unicodeRanges=Wr;qt.getUnicodeRange=Io;qt.parse=Uo;qt.make=_o});var Xr=L(Lr=>{"use strict";var ua=At(),Po=Be(),Bo=Ge();function So(t,e){var r={},n=new Po.Parser(t,e),a;switch(r.version=n.parseVersion(),r.italicAngle=n.parseFixed(),r.underlinePosition=n.parseShort(),r.underlineThickness=n.parseShort(),r.isFixedPitch=n.parseULong(),r.minMemType42=n.parseULong(),r.maxMemType42=n.parseULong(),r.minMemType1=n.parseULong(),r.maxMemType1=n.parseULong(),r.version){case 1:r.names=ua.standardNames.slice();break;case 2:for(r.numberOfGlyphs=n.parseUShort(),r.glyphNameIndex=new Array(r.numberOfGlyphs),a=0;a<r.numberOfGlyphs;a++)r.glyphNameIndex[a]=n.parseUShort();for(r.names=[],a=0;a<r.numberOfGlyphs;a++)if(r.glyphNameIndex[a]>=ua.standardNames.length){var i=n.parseChar();r.names.push(n.parseString(i))}break;case 2.5:for(r.numberOfGlyphs=n.parseUShort(),r.offset=new Array(r.numberOfGlyphs),a=0;a<r.numberOfGlyphs;a++)r.offset[a]=n.parseChar();break}return r}function Eo(){return new Bo.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}Lr.parse=So;Lr.make=Eo});var ba=L(er=>{"use strict";var ca=Me(),va=Ge(),Co=br(),Ao=kr(),Go=Ur(),qo=Pr(),Ho=Sr(),Ro=Cr(),Mo=Gr(),Yo=Yr(),pa=Vr(),Wo=Xr();function da(t){return Math.log(t)/Math.log(2)|0}function zr(t){for(;t.length%4!==0;)t.push(0);for(var e=0,r=0;r<t.length;r+=4)e+=(t[r]<<24)+(t[r+1]<<16)+(t[r+2]<<8)+t[r+3];return e%=Math.pow(2,32),e}function ma(t,e,r,n){return new va.Table("Table Record",[{name:"tag",type:"TAG",value:t!==void 0?t:""},{name:"checkSum",type:"ULONG",value:e!==void 0?e:0},{name:"offset",type:"ULONG",value:r!==void 0?r:0},{name:"length",type:"ULONG",value:n!==void 0?n:0}])}function ga(t){var e=new va.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]);e.tables=t,e.numTables=t.length;var r=Math.pow(2,da(e.numTables));e.searchRange=16*r,e.entrySelector=da(r),e.rangeShift=e.numTables*16-e.searchRange;for(var n=[],a=[],i=e.sizeOf()+ma().sizeOf()*e.numTables;i%4!==0;)i+=1,a.push({name:"padding",type:"BYTE",value:0});for(var s=0;s<t.length;s+=1){var l=t[s];ca.argument(l.tableName.length===4,"Table name"+l.tableName+" is invalid.");var o=l.sizeOf(),h=ma(l.tableName,zr(l.encode()),i,o);for(n.push({name:h.tag+" Table Record",type:"TABLE",value:h}),a.push({name:l.tableName+" table",type:"TABLE",value:l}),i+=o,ca.argument(!isNaN(i),"Something went wrong calculating the offset.");i%4!==0;)i+=1,a.push({name:"padding",type:"BYTE",value:0})}return n.sort(function(u,c){return u.value.tag>c.value.tag?1:-1}),e.fields=e.fields.concat(n),e.fields=e.fields.concat(a),e}function xa(t,e,r){for(var n=0;n<e.length;n+=1){var a=t.charToGlyphIndex(e[n]);if(a>0){var i=t.glyphs.get(a);return i.getMetrics()}}return r}function Vo(t){for(var e=0,r=0;r<t.length;r+=1)e+=t[r];return e/t.length}function Lo(t){for(var e=[],r=[],n=[],a=[],i=[],s=[],l=[],o,h=0,u=0,c=0,p=0,d=0,m=0;m<t.glyphs.length;m+=1){var F=t.glyphs.get(m),b=F.unicode|0;(o>b||o===null)&&(o=b),h<b&&(h=b);var I=pa.getUnicodeRange(b);if(I<32)u|=1<<I;else if(I<64)c|=1<<I-32;else if(I<96)p|=1<<I-64;else if(I<123)d|=1<<I-96;else throw new Error("Unicode ranges bits > 123 are reserved for internal usage");if(F.name!==".notdef"){var w=F.getMetrics();e.push(w.xMin),r.push(w.yMin),n.push(w.xMax),a.push(w.yMax),s.push(w.leftSideBearing),l.push(w.rightSideBearing),i.push(F.advanceWidth)}}var x={xMin:Math.min.apply(null,e),yMin:Math.min.apply(null,r),xMax:Math.max.apply(null,n),yMax:Math.max.apply(null,a),advanceWidthMax:Math.max.apply(null,i),advanceWidthAvg:Vo(i),minLeftSideBearing:Math.min.apply(null,s),maxLeftSideBearing:Math.max.apply(null,s),minRightSideBearing:Math.min.apply(null,l)};x.ascender=t.ascender!==void 0?t.ascender:x.yMax,x.descender=t.descender!==void 0?t.descender:x.yMin;var U=Go.make({unitsPerEm:t.unitsPerEm,xMin:x.xMin,yMin:x.yMin,xMax:x.xMax,yMax:x.yMax}),y=qo.make({ascender:x.ascender,descender:x.descender,advanceWidthMax:x.advanceWidthMax,minLeftSideBearing:x.minLeftSideBearing,minRightSideBearing:x.minRightSideBearing,xMaxExtent:x.maxLeftSideBearing+(x.xMax-x.xMin),numberOfHMetrics:t.glyphs.length}),W=Mo.make(t.glyphs.length),T=pa.make({xAvgCharWidth:Math.round(x.advanceWidthAvg),usWeightClass:500,usWidthClass:5,usFirstCharIndex:o,usLastCharIndex:h,ulUnicodeRange1:u,ulUnicodeRange2:c,ulUnicodeRange3:p,ulUnicodeRange4:d,sTypoAscender:x.ascender,sTypoDescender:x.descender,sTypoLineGap:0,usWinAscent:x.ascender,usWinDescent:-x.descender,sxHeight:xa(t,"xyvw",{yMax:0}).yMax,sCapHeight:xa(t,"HIKLEFJMNTZBDPRAGOQSUVWXY",x).yMax,usBreakChar:t.hasChar(" ")?32:0}),R=Ho.make(t.glyphs),S=Co.make(t.glyphs),E=t.getEnglishName("fontFamily"),G=t.getEnglishName("fontSubfamily"),V=E+" "+G,C=t.getEnglishName("postScriptName");C||(C=E.replace(/\s/g,"")+"-"+G);var z={};for(var P in t.names)z[P]=t.names[P];z.uniqueID||(z.uniqueID={en:t.getEnglishName("manufacturer")+":"+V}),z.postScriptName||(z.postScriptName={en:C}),z.preferredFamily||(z.preferredFamily=t.names.fontFamily),z.preferredSubfamily||(z.preferredSubfamily=t.names.fontSubfamily);var H=[],de=Yo.make(z,H),le=H.length>0?Ro.make(H):void 0,te=Wo.make(),Fe=Ao.make(t.glyphs,{version:t.getEnglishName("version"),fullName:V,familyName:E,weightName:G,postScriptName:C,unitsPerEm:t.unitsPerEm}),ie=[U,y,W,T,de,S,te,Fe,R];le&&ie.push(le);var ee=ga(ie),J=ee.encode(),g=zr(J),M=ee.fields,ue=!1;for(m=0;m<M.length;m+=1)if(M[m].name==="head table"){M[m].value.checkSumAdjustment=2981146554-g,ue=!0;break}if(!ue)throw new Error("Could not find head table with checkSum to adjust.");return ee}er.computeCheckSum=zr;er.make=ga;er.fontToTable=Lo});var Ta=L(ya=>{"use strict";var Xo=pt(),zo=ba(),No=At(),Zo=Dt();function Ie(t){t=t||{},this.names={fontFamily:{en:t.familyName||" "},fontSubfamily:{en:t.styleName||" "},designer:{en:t.designer||" "},designerURL:{en:t.designerURL||" "},manufacturer:{en:t.manufacturer||" "},manufacturerURL:{en:t.manufacturerURL||" "},license:{en:t.license||" "},licenseURL:{en:t.licenseURL||" "},version:{en:t.version||"Version 0.1"},description:{en:t.description||" "},copyright:{en:t.copyright||" "},trademark:{en:t.trademark||" "}},this.unitsPerEm=t.unitsPerEm||1e3,this.ascender=t.ascender,this.descender=t.descender,this.supported=!0,this.glyphs=new Zo.GlyphSet(this,t.glyphs||[]),this.encoding=new No.DefaultEncoding(this),this.tables={}}Ie.prototype.hasChar=function(t){return this.encoding.charToGlyphIndex(t)!==null};Ie.prototype.charToGlyphIndex=function(t){return this.encoding.charToGlyphIndex(t)};Ie.prototype.charToGlyph=function(t){var e=this.charToGlyphIndex(t),r=this.glyphs.get(e);return r||(r=this.glyphs.get(0)),r};Ie.prototype.stringToGlyphs=function(t){for(var e=[],r=0;r<t.length;r+=1){var n=t[r];e.push(this.charToGlyph(n))}return e};Ie.prototype.nameToGlyphIndex=function(t){return this.glyphNames.nameToGlyphIndex(t)};Ie.prototype.nameToGlyph=function(t){var e=this.nametoGlyphIndex(t),r=this.glyphs.get(e);return r||(r=this.glyphs.get(0)),r};Ie.prototype.glyphIndexToName=function(t){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(t):""};Ie.prototype.getKerningValue=function(t,e){t=t.index||t,e=e.index||e;var r=this.getGposKerningValue;return r?r(t,e):this.kerningPairs[t+","+e]||0};Ie.prototype.forEachGlyph=function(t,e,r,n,a,i){e=e!==void 0?e:0,r=r!==void 0?r:0,n=n!==void 0?n:72,a=a||{};for(var s=a.kerning===void 0?!0:a.kerning,l=1/this.unitsPerEm*n,o=this.stringToGlyphs(t),h=0;h<o.length;h+=1){var u=o[h];if(i(u,e,r,n,a),u.advanceWidth&&(e+=u.advanceWidth*l),s&&h<o.length-1){var c=this.getKerningValue(u,o[h+1]);e+=c*l}}};Ie.prototype.getPath=function(t,e,r,n,a){var i=new Xo.Path;return this.forEachGlyph(t,e,r,n,a,function(s,l,o,h){var u=s.getPath(l,o,h);i.extend(u)}),i};Ie.prototype.draw=function(t,e,r,n,a,i){this.getPath(e,r,n,a,i).draw(t)};Ie.prototype.drawPoints=function(t,e,r,n,a,i){this.forEachGlyph(e,r,n,a,i,function(s,l,o,h){s.drawPoints(t,l,o,h)})};Ie.prototype.drawMetrics=function(t,e,r,n,a,i){this.forEachGlyph(e,r,n,a,i,function(s,l,o,h){s.drawMetrics(t,l,o,h)})};Ie.prototype.getEnglishName=function(t){var e=this.names[t];if(e)return e.en};Ie.prototype.validate=function(){var t=[],e=this;function r(a,i){a||t.push(i)}function n(a){var i=e.getEnglishName(a);r(i&&i.trim().length>0,"No English "+a+" specified.")}n("fontFamily"),n("weightName"),n("manufacturer"),n("copyright"),n("version"),r(this.unitsPerEm>0,"No unitsPerEm specified.")};Ie.prototype.toTables=function(){return zo.fontToTable(this)};Ie.prototype.toBuffer=function(){for(var t=this.toTables(),e=t.encode(),r=new ArrayBuffer(e.length),n=new Uint8Array(r),a=0;a<e.length;a++)n[a]=e[a];return r};Ie.prototype.download=function(){var t=this.getEnglishName("fontFamily"),e=this.getEnglishName("fontSubfamily"),r=t.replace(/\s/g,"")+"-"+e+".otf",n=this.toBuffer();window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,n.byteLength,function(a){a.root.getFile(r,{create:!0},function(i){i.createWriter(function(s){var l=new DataView(n),o=new Blob([l],{type:"font/opentype"});s.write(o),s.addEventListener("writeend",function(){location.href=i.toURL()},!1)})})},function(a){throw a})};ya.Font=Ie});var Fa=L(jr=>{"use strict";var jo=Me(),Nr=Be(),Zr=Ge();function wa(t,e){var r=JSON.stringify(t),n=256;for(var a in e){var i=parseInt(a);if(!(!i||i<256)){if(JSON.stringify(e[a])===r)return i;n<=i&&(n=i+1)}}return e[n]=t,n}function Qo(t,e){var r=wa(t.name,e);return new Zr.Table("fvarAxis",[{name:"tag",type:"TAG",value:t.tag},{name:"minValue",type:"FIXED",value:t.minValue<<16},{name:"defaultValue",type:"FIXED",value:t.defaultValue<<16},{name:"maxValue",type:"FIXED",value:t.maxValue<<16},{name:"flags",type:"USHORT",value:0},{name:"nameID",type:"USHORT",value:r}])}function Ko(t,e,r){var n={},a=new Nr.Parser(t,e);return n.tag=a.parseTag(),n.minValue=a.parseFixed(),n.defaultValue=a.parseFixed(),n.maxValue=a.parseFixed(),a.skip("uShort",1),n.name=r[a.parseUShort()]||{},n}function Jo(t,e,r){for(var n=wa(t.name,r),a=[{name:"nameID",type:"USHORT",value:n},{name:"flags",type:"USHORT",value:0}],i=0;i<e.length;++i){var s=e[i].tag;a.push({name:"axis "+s,type:"FIXED",value:t.coordinates[s]<<16})}return new Zr.Table("fvarInstance",a)}function $o(t,e,r,n){var a={},i=new Nr.Parser(t,e);a.name=n[i.parseUShort()]||{},i.skip("uShort",1),a.coordinates={};for(var s=0;s<r.length;++s)a.coordinates[r[s].tag]=i.parseFixed();return a}function Do(t,e){var r=new Zr.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:t.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:t.instances.length},{name:"instanceSize",type:"USHORT",value:4+t.axes.length*4}]);r.offsetToData=r.sizeOf();for(var n=0;n<t.axes.length;n++)r.fields.push({name:"axis "+n,type:"TABLE",value:Qo(t.axes[n],e)});for(var a=0;a<t.instances.length;a++)r.fields.push({name:"instance "+a,type:"TABLE",value:Jo(t.instances[a],t.axes,e)});return r}function Oo(t,e,r){var n=new Nr.Parser(t,e),a=n.parseULong();jo.argument(a===65536,"Unsupported fvar table version.");var i=n.parseOffset16();n.skip("uShort",1);for(var s=n.parseUShort(),l=n.parseUShort(),o=n.parseUShort(),h=n.parseUShort(),u=[],c=0;c<s;c++)u.push(Ko(t,e+i+c*l,r));for(var p=[],d=e+i+s*l,m=0;m<o;m++)p.push($o(t,d+m*h,u,r));return{axes:u,instances:p}}jr.make=Do;jr.parse=Oo});var _a=L(Ua=>{"use strict";var Ia=Me(),Qr=Dt(),el=Be(),tl=pt();function ka(t,e,r,n,a){var i;return(e&n)>0?(i=t.parseByte(),e&a||(i=-i),i=r+i):(e&a)>0?i=r:i=r+t.parseShort(),i}function rl(t,e,r){var n=new el.Parser(e,r);t.numberOfContours=n.parseShort(),t.xMin=n.parseShort(),t.yMin=n.parseShort(),t.xMax=n.parseShort(),t.yMax=n.parseShort();var a,i;if(t.numberOfContours>0){var s,l=t.endPointIndices=[];for(s=0;s<t.numberOfContours;s+=1)l.push(n.parseUShort());for(t.instructionLength=n.parseUShort(),t.instructions=[],s=0;s<t.instructionLength;s+=1)t.instructions.push(n.parseByte());var o=l[l.length-1]+1;for(a=[],s=0;s<o;s+=1)if(i=n.parseByte(),a.push(i),(i&8)>0)for(var h=n.parseByte(),u=0;u<h;u+=1)a.push(i),s+=1;if(Ia.argument(a.length===o,"Bad flags."),l.length>0){var c=[],p;if(o>0){for(s=0;s<o;s+=1)i=a[s],p={},p.onCurve=!!(i&1),p.lastPointOfContour=l.indexOf(s)>=0,c.push(p);var d=0;for(s=0;s<o;s+=1)i=a[s],p=c[s],p.x=ka(n,i,d,2,16),d=p.x;var m=0;for(s=0;s<o;s+=1)i=a[s],p=c[s],p.y=ka(n,i,m,4,32),m=p.y}t.points=c}else t.points=[]}else if(t.numberOfContours===0)t.points=[];else{t.isComposite=!0,t.points=[],t.components=[];for(var F=!0;F;){a=n.parseUShort();var b={glyphIndex:n.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};(a&1)>0?(b.dx=n.parseShort(),b.dy=n.parseShort()):(b.dx=n.parseChar(),b.dy=n.parseChar()),(a&8)>0?b.xScale=b.yScale=n.parseF2Dot14():(a&64)>0?(b.xScale=n.parseF2Dot14(),b.yScale=n.parseF2Dot14()):(a&128)>0&&(b.xScale=n.parseF2Dot14(),b.scale01=n.parseF2Dot14(),b.scale10=n.parseF2Dot14(),b.yScale=n.parseF2Dot14()),t.components.push(b),F=!!(a&32)}}}function nl(t,e){for(var r=[],n=0;n<t.length;n+=1){var a=t[n],i={x:e.xScale*a.x+e.scale01*a.y+e.dx,y:e.scale10*a.x+e.yScale*a.y+e.dy,onCurve:a.onCurve,lastPointOfContour:a.lastPointOfContour};r.push(i)}return r}function al(t){for(var e=[],r=[],n=0;n<t.length;n+=1){var a=t[n];r.push(a),a.lastPointOfContour&&(e.push(r),r=[])}return Ia.argument(r.length===0,"There are still points left in the current contour."),e}function il(t){var e=new tl.Path;if(!t)return e;for(var r=al(t),n=0;n<r.length;n+=1){var a=r[n],i=a[0],s=a[a.length-1],l,o;i.onCurve?(l=null,o=!0):(s.onCurve?i=s:i={x:(i.x+s.x)/2,y:(i.y+s.y)/2},l=i,o=!1),e.moveTo(i.x,i.y);for(var h=o?1:0;h<a.length;h+=1){var u=a[h],c=h===0?i:a[h-1];if(c.onCurve&&u.onCurve)e.lineTo(u.x,u.y);else if(c.onCurve&&!u.onCurve)l=u;else if(!c.onCurve&&!u.onCurve){var p={x:(c.x+u.x)/2,y:(c.y+u.y)/2};e.quadraticCurveTo(c.x,c.y,p.x,p.y),l=u}else if(!c.onCurve&&u.onCurve)e.quadraticCurveTo(l.x,l.y,u.x,u.y),l=null;else throw new Error("Invalid state.")}i!==s&&(l?e.quadraticCurveTo(l.x,l.y,i.x,i.y):e.lineTo(i.x,i.y))}return e.closePath(),e}function sl(t,e){if(e.isComposite)for(var r=0;r<e.components.length;r+=1){var n=e.components[r],a=t.get(n.glyphIndex);if(a.getPath(),a.points){var i=nl(a.points,n);e.points=e.points.concat(i)}}return il(e.points)}function ol(t,e,r,n){var a=new Qr.GlyphSet(n),i;for(i=0;i<r.length-1;i+=1){var s=r[i],l=r[i+1];s!==l?a.push(i,Qr.ttfGlyphLoader(n,i,rl,t,e+s,sl)):a.push(i,Qr.glyphLoader(n,i))}return a}Ua.parse=ol});var Ea=L(Sa=>{"use strict";var ll=Me(),mt=Be();function Pa(t,e){for(var r=new mt.Parser(t,e),n=r.parseUShort(),a=[],i=0;i<n;i++)a[r.parseTag()]={offset:r.parseUShort()};return a}function fl(t,e){var r=new mt.Parser(t,e),n=r.parseUShort(),a=r.parseUShort();if(n===1)return r.parseUShortList(a);if(n===2){for(var i=[];a--;)for(var s=r.parseUShort(),l=r.parseUShort(),o=r.parseUShort(),h=s;h<=l;h++)i[o++]=h;return i}}function Ba(t,e){var r=new mt.Parser(t,e),n=r.parseUShort();if(n===1){var a=r.parseUShort(),i=r.parseUShort(),s=r.parseUShortList(i);return function(p){return s[p-a]||0}}else if(n===2){for(var l=r.parseUShort(),o=[],h=[],u=[],c=0;c<l;c++)o[c]=r.parseUShort(),h[c]=r.parseUShort(),u[c]=r.parseUShort();return function(p){for(var d=0,m=o.length-1;d<m;){var F=d+m+1>>1;p<o[F]?m=F-1:d=F}return o[d]<=p&&p<=h[d]&&u[d]||0}}}function hl(t,e){var r=new mt.Parser(t,e),n=r.parseUShort(),a=r.parseUShort(),i=fl(t,e+a),s=r.parseUShort(),l=r.parseUShort(),o,h;if(!(s!==4||l!==0)){var u={};if(n===1){for(var c=r.parseUShort(),p=[],d=r.parseOffset16List(c),m=0;m<c;m++){var F=d[m],b=u[F];if(!b){b={},r.relativeOffset=F;for(var I=r.parseUShort();I--;){var w=r.parseUShort();s&&(o=r.parseShort()),l&&(h=r.parseShort()),b[w]=o}}p[i[m]]=b}return function(z,P){var H=p[z];if(H)return H[P]}}else if(n===2){for(var x=r.parseUShort(),U=r.parseUShort(),y=r.parseUShort(),W=r.parseUShort(),T=Ba(t,e+x),R=Ba(t,e+U),S=[],E=0;E<y;E++)for(var G=S[E]=[],V=0;V<W;V++)s&&(o=r.parseShort()),l&&(h=r.parseShort()),G[V]=o;var C={};for(E=0;E<i.length;E++)C[i[E]]=1;return function(z,P){if(C[z]){var H=T(z),de=R(P),le=S[H];if(le)return le[de]}}}}}function ul(t,e){var r=new mt.Parser(t,e),n=r.parseUShort(),a=r.parseUShort(),i=a&16,s=r.parseUShort(),l=r.parseOffset16List(s),o={lookupType:n,lookupFlag:a,markFilteringSet:i?r.parseUShort():-1};if(n===2){for(var h=[],u=0;u<s;u++)h.push(hl(t,e+l[u]));o.getKerningValue=function(c,p){for(var d=h.length;d--;){var m=h[d](c,p);if(m!==void 0)return m}return 0}}return o}function cl(t,e,r){var n=new mt.Parser(t,e),a=n.parseFixed();ll.argument(a===1,"Unsupported GPOS table version."),Pa(t,e+n.parseUShort()),Pa(t,e+n.parseUShort());var i=n.parseUShort();n.relativeOffset=i;for(var s=n.parseUShort(),l=n.parseOffset16List(s),o=e+i,h=0;h<s;h++){var u=ul(t,o+l[h]);u.lookupType===2&&!r.getGposKerningValue&&(r.getGposKerningValue=u.getKerningValue)}}Sa.parse=cl});var Ga=L(Aa=>{"use strict";var Ca=Me(),pl=Be();function dl(t,e){var r={},n=new pl.Parser(t,e),a=n.parseUShort();Ca.argument(a===0,"Unsupported kern table version."),n.skip("uShort",1);var i=n.parseUShort();Ca.argument(i===0,"Unsupported kern sub-table version."),n.skip("uShort",2);var s=n.parseUShort();n.skip("uShort",3);for(var l=0;l<s;l+=1){var o=n.parseUShort(),h=n.parseUShort(),u=n.parseShort();r[o+","+h]=u}return r}Aa.parse=dl});var Ha=L(qa=>{"use strict";var ml=Be();function xl(t,e,r,n){for(var a=new ml.Parser(t,e),i=n?a.parseUShort:a.parseULong,s=[],l=0;l<r+1;l+=1){var o=i.call(a);n&&(o*=2),s.push(o)}return s}qa.parse=xl});var Ya=L(et=>{"use strict";var Kr=At(),Ra=Ta(),vl=yr(),xt=Be(),gl=pt(),bl=br(),yl=kr(),Tl=Fa(),wl=_a(),Fl=Ea(),kl=Ur(),Il=Pr(),Ul=Sr(),_l=Ga(),Pl=Cr(),Bl=Ha(),Sl=Gr(),El=Yr(),Cl=Vr(),Al=Xr();function Ma(t){for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n<t.length;n+=1)r[n]=t[n];return e}function Gl(t,e){var r=require("fs");r.readFile(t,function(n,a){if(n)return e(n.message);e(null,Ma(a))})}function ql(t,e){var r=new XMLHttpRequest;r.open("get",t,!0),r.responseType="arraybuffer",r.onload=function(){return r.status!==200?e("Font could not be loaded: "+r.statusText):e(null,r.response)},r.send()}function Jr(t){var e,r,n,a,i,s,l,o,h,u,c=new Ra.Font,p=new DataView(t,0),d=xt.getFixed(p,0);if(d===1)c.outlinesFormat="truetype";else if(d=xt.getTag(p,0),d==="OTTO")c.outlinesFormat="cff";else throw new Error("Unsupported OpenType version "+d);for(var m=xt.getUShort(p,4),F=12,b=0;b<m;b+=1){var I=xt.getTag(p,F),w=xt.getULong(p,F+8);switch(I){case"cmap":c.tables.cmap=bl.parse(p,w),c.encoding=new Kr.CmapEncoding(c.tables.cmap);break;case"fvar":a=w;break;case"head":c.tables.head=kl.parse(p,w),c.unitsPerEm=c.tables.head.unitsPerEm,e=c.tables.head.indexToLocFormat;break;case"hhea":c.tables.hhea=Il.parse(p,w),c.ascender=c.tables.hhea.ascender,c.descender=c.tables.hhea.descender,c.numberOfHMetrics=c.tables.hhea.numberOfHMetrics;break;case"hmtx":l=w;break;case"ltag":r=Pl.parse(p,w);break;case"maxp":c.tables.maxp=Sl.parse(p,w),c.numGlyphs=c.tables.maxp.numGlyphs;break;case"name":u=w;break;case"OS/2":c.tables.os2=Cl.parse(p,w);break;case"post":c.tables.post=Al.parse(p,w),c.glyphNames=new Kr.GlyphNames(c.tables.post);break;case"glyf":i=w;break;case"loca":h=w;break;case"CFF ":n=w;break;case"kern":o=w;break;case"GPOS":s=w;break}F+=16}if(c.tables.name=El.parse(p,u,r),c.names=c.tables.name,i&&h){var x=e===0,U=Bl.parse(p,h,c.numGlyphs,x);c.glyphs=wl.parse(p,i,U,c)}else if(n)yl.parse(p,n,c);else throw new Error("Font doesn't contain TrueType or CFF outlines.");return Ul.parse(p,l,c.numberOfHMetrics,c.numGlyphs,c.glyphs),Kr.addGlyphNames(c),o?c.kerningPairs=_l.parse(p,o):c.kerningPairs={},s&&Fl.parse(p,s,c),a&&(c.tables.fvar=Tl.parse(p,a,c.names)),c}function Hl(t,e){var r=typeof window>"u",n=r?Gl:ql;n(t,function(a,i){if(a)return e(a);var s=Jr(i);return e(null,s)})}function Rl(t){var e=require("fs"),r=e.readFileSync(t);return Jr(Ma(r))}et._parse=xt;et.Font=Ra.Font;et.Glyph=vl.Glyph;et.Path=gl.Path;et.parse=Jr;et.load=Hl;et.loadSync=Rl});var Or=L((Tu,ja)=>{"use strict";var Jl=require("util"),Za=require("stream"),ze=ja.exports=function(){Za.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};Jl.inherits(ze,Za);ze.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e}),process.nextTick(function(){this._process(),this._paused&&this._reads&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))};ze.prototype.write=function(t,e){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;let r;return Buffer.isBuffer(t)?r=t:r=Buffer.from(t,e||this._encoding),this._buffers.push(r),this._buffered+=r.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused};ze.prototype.end=function(t,e){t&&this.write(t,e),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))};ze.prototype.destroySoon=ze.prototype.end;ze.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("Unexpected end of input")),this.destroy()};ze.prototype.destroy=function(){this._buffers&&(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))};ze.prototype._processReadAllowingLess=function(t){this._reads.shift();let e=this._buffers[0];e.length>t.length?(this._buffered-=t.length,this._buffers[0]=e.slice(t.length),t.func.call(this,e.slice(0,t.length))):(this._buffered-=e.length,this._buffers.shift(),t.func.call(this,e))};ze.prototype._processRead=function(t){this._reads.shift();let e=0,r=0,n=Buffer.alloc(t.length);for(;e<t.length;){let a=this._buffers[r++],i=Math.min(a.length,t.length-e);a.copy(n,e,0,i),e+=i,i!==a.length&&(this._buffers[--r]=a.slice(i))}r>0&&this._buffers.splice(0,r),this._buffered-=t.length,t.func.call(this,n)};ze.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){let t=this._reads[0];if(t.allowLess)this._processReadAllowingLess(t);else if(this._buffered>=t.length)this._processRead(t);else break}this._buffers&&!this.writable&&this._end()}catch(t){this.emit("error",t)}}});var tn=L(en=>{"use strict";var tt=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];en.getImagePasses=function(t,e){let r=[],n=t%8,a=e%8,i=(t-n)/8,s=(e-a)/8;for(let l=0;l<tt.length;l++){let o=tt[l],h=i*o.x.length,u=s*o.y.length;for(let c=0;c<o.x.length&&o.x[c]<n;c++)h++;for(let c=0;c<o.y.length&&o.y[c]<a;c++)u++;h>0&&u>0&&r.push({width:h,height:u,index:l})}return r};en.getInterlaceIterator=function(t){return function(e,r,n){let a=e%tt[n].x.length,i=(e-a)/tt[n].x.length*8+tt[n].x[a],s=r%tt[n].y.length,l=(r-s)/tt[n].y.length*8+tt[n].y[s];return i*4+l*t*4}}});var rn=L((Fu,Qa)=>{"use strict";Qa.exports=function(e,r,n){let a=e+r-n,i=Math.abs(a-e),s=Math.abs(a-r),l=Math.abs(a-n);return i<=s&&i<=l?e:s<=l?r:n}});var nn=L((ku,Ja)=>{"use strict";var $l=tn(),Dl=rn();function Ka(t,e,r){let n=t*e;return r!==8&&(n=Math.ceil(n/(8/r))),n}var gt=Ja.exports=function(t,e){let r=t.width,n=t.height,a=t.interlace,i=t.bpp,s=t.depth;if(this.read=e.read,this.write=e.write,this.complete=e.complete,this._imageIndex=0,this._images=[],a){let l=$l.getImagePasses(r,n);for(let o=0;o<l.length;o++)this._images.push({byteWidth:Ka(l[o].width,i,s),height:l[o].height,lineIndex:0})}else this._images.push({byteWidth:Ka(r,i,s),height:n,lineIndex:0});s===8?this._xComparison=i:s===16?this._xComparison=i*2:this._xComparison=1};gt.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))};gt.prototype._unFilterType1=function(t,e,r){let n=this._xComparison,a=n-1;for(let i=0;i<r;i++){let s=t[1+i],l=i>a?e[i-n]:0;e[i]=s+l}};gt.prototype._unFilterType2=function(t,e,r){let n=this._lastLine;for(let a=0;a<r;a++){let i=t[1+a],s=n?n[a]:0;e[a]=i+s}};gt.prototype._unFilterType3=function(t,e,r){let n=this._xComparison,a=n-1,i=this._lastLine;for(let s=0;s<r;s++){let l=t[1+s],o=i?i[s]:0,h=s>a?e[s-n]:0,u=Math.floor((h+o)/2);e[s]=l+u}};gt.prototype._unFilterType4=function(t,e,r){let n=this._xComparison,a=n-1,i=this._lastLine;for(let s=0;s<r;s++){let l=t[1+s],o=i?i[s]:0,h=s>a?e[s-n]:0,u=s>a&&i?i[s-n]:0,c=Dl(h,o,u);e[s]=l+c}};gt.prototype._reverseFilterLine=function(t){let e=t[0],r,n=this._images[this._imageIndex],a=n.byteWidth;if(e===0)r=t.slice(1,a+1);else switch(r=Buffer.alloc(a),e){case 1:this._unFilterType1(t,r,a);break;case 2:this._unFilterType2(t,r,a);break;case 3:this._unFilterType3(t,r,a);break;case 4:this._unFilterType4(t,r,a);break;default:throw new Error("Unrecognised filter type - "+e)}this.write(r),n.lineIndex++,n.lineIndex>=n.height?(this._lastLine=null,this._imageIndex++,n=this._images[this._imageIndex]):this._lastLine=r,n?this.read(n.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}});var Oa=L((Iu,Da)=>{"use strict";var Ol=require("util"),$a=Or(),ef=nn(),tf=Da.exports=function(t){$a.call(this);let e=[],r=this;this._filter=new ef(t,{read:this.read.bind(this),write:function(n){e.push(n)},complete:function(){r.emit("complete",Buffer.concat(e))}}),this._filter.start()};Ol.inherits(tf,$a)});var bt=L((Uu,ei)=>{"use strict";ei.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}});var on=L((_u,ti)=>{"use strict";var an=[];(function(){for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;an[t]=e}})();var sn=ti.exports=function(){this._crc=-1};sn.prototype.write=function(t){for(let e=0;e<t.length;e++)this._crc=an[(this._crc^t[e])&255]^this._crc>>>8;return!0};sn.prototype.crc32=function(){return this._crc^-1};sn.crc32=function(t){let e=-1;for(let r=0;r<t.length;r++)e=an[(e^t[r])&255]^e>>>8;return e^-1}});var ln=L((Pu,ri)=>{"use strict";var Ue=bt(),rf=on(),_e=ri.exports=function(t,e){this._options=t,t.checkCRC=t.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._emittedHeadersFinished=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[Ue.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[Ue.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[Ue.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[Ue.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[Ue.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[Ue.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=e.read,this.error=e.error,this.metadata=e.metadata,this.gamma=e.gamma,this.transColor=e.transColor,this.palette=e.palette,this.parsed=e.parsed,this.inflateData=e.inflateData,this.finished=e.finished,this.simpleTransparency=e.simpleTransparency,this.headersFinished=e.headersFinished||function(){}};_e.prototype.start=function(){this.read(Ue.PNG_SIGNATURE.length,this._parseSignature.bind(this))};_e.prototype._parseSignature=function(t){let e=Ue.PNG_SIGNATURE;for(let r=0;r<e.length;r++)if(t[r]!==e[r]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))};_e.prototype._parseChunkBegin=function(t){let e=t.readUInt32BE(0),r=t.readUInt32BE(4),n="";for(let i=4;i<8;i++)n+=String.fromCharCode(t[i]);let a=!!(t[4]&32);if(!this._hasIHDR&&r!==Ue.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new rf,this._crc.write(Buffer.from(n)),this._chunks[r])return this._chunks[r](e);if(!a){this.error(new Error("Unsupported critical chunk type "+n));return}this.read(e+4,this._skipChunk.bind(this))};_e.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))};_e.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))};_e.prototype._parseChunkEnd=function(t){let e=t.readInt32BE(0),r=this._crc.crc32();if(this._options.checkCRC&&r!==e){this.error(new Error("Crc error - "+e+" - "+r));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))};_e.prototype._handleIHDR=function(t){this.read(t,this._parseIHDR.bind(this))};_e.prototype._parseIHDR=function(t){this._crc.write(t);let e=t.readUInt32BE(0),r=t.readUInt32BE(4),n=t[8],a=t[9],i=t[10],s=t[11],l=t[12];if(n!==8&&n!==4&&n!==2&&n!==1&&n!==16){this.error(new Error("Unsupported bit depth "+n));return}if(!(a in Ue.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(i!==0){this.error(new Error("Unsupported compression method"));return}if(s!==0){this.error(new Error("Unsupported filter method"));return}if(l!==0&&l!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=a;let o=Ue.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:e,height:r,depth:n,interlace:!!l,palette:!!(a&Ue.COLORTYPE_PALETTE),color:!!(a&Ue.COLORTYPE_COLOR),alpha:!!(a&Ue.COLORTYPE_ALPHA),bpp:o,colorType:a}),this._handleChunkEnd()};_e.prototype._handlePLTE=function(t){this.read(t,this._parsePLTE.bind(this))};_e.prototype._parsePLTE=function(t){this._crc.write(t);let e=Math.floor(t.length/3);for(let r=0;r<e;r++)this._palette.push([t[r*3],t[r*3+1],t[r*3+2],255]);this.palette(this._palette),this._handleChunkEnd()};_e.prototype._handleTRNS=function(t){this.simpleTransparency(),this.read(t,this._parseTRNS.bind(this))};_e.prototype._parseTRNS=function(t){if(this._crc.write(t),this._colorType===Ue.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(t.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(let e=0;e<t.length;e++)this._palette[e][3]=t[e];this.palette(this._palette)}this._colorType===Ue.COLORTYPE_GRAYSCALE&&this.transColor([t.readUInt16BE(0)]),this._colorType===Ue.COLORTYPE_COLOR&&this.transColor([t.readUInt16BE(0),t.readUInt16BE(2),t.readUInt16BE(4)]),this._handleChunkEnd()};_e.prototype._handleGAMA=function(t){this.read(t,this._parseGAMA.bind(this))};_e.prototype._parseGAMA=function(t){this._crc.write(t),this.gamma(t.readUInt32BE(0)/Ue.GAMMA_DIVISION),this._handleChunkEnd()};_e.prototype._handleIDAT=function(t){this._emittedHeadersFinished||(this._emittedHeadersFinished=!0,this.headersFinished()),this.read(-t,this._parseIDAT.bind(this,t))};_e.prototype._parseIDAT=function(t,e){if(this._crc.write(e),this._colorType===Ue.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(e);let r=t-e.length;r>0?this._handleIDAT(r):this._handleChunkEnd()};_e.prototype._handleIEND=function(t){this.read(t,this._parseIEND.bind(this))};_e.prototype._parseIEND=function(t){this._crc.write(t),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}});var fn=L(ai=>{"use strict";var ni=tn(),nf=[function(){},function(t,e,r,n){if(n===e.length)throw new Error("Ran out of data");let a=e[n];t[r]=a,t[r+1]=a,t[r+2]=a,t[r+3]=255},function(t,e,r,n){if(n+1>=e.length)throw new Error("Ran out of data");let a=e[n];t[r]=a,t[r+1]=a,t[r+2]=a,t[r+3]=e[n+1]},function(t,e,r,n){if(n+2>=e.length)throw new Error("Ran out of data");t[r]=e[n],t[r+1]=e[n+1],t[r+2]=e[n+2],t[r+3]=255},function(t,e,r,n){if(n+3>=e.length)throw new Error("Ran out of data");t[r]=e[n],t[r+1]=e[n+1],t[r+2]=e[n+2],t[r+3]=e[n+3]}],af=[function(){},function(t,e,r,n){let a=e[0];t[r]=a,t[r+1]=a,t[r+2]=a,t[r+3]=n},function(t,e,r){let n=e[0];t[r]=n,t[r+1]=n,t[r+2]=n,t[r+3]=e[1]},function(t,e,r,n){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=n},function(t,e,r){t[r]=e[0],t[r+1]=e[1],t[r+2]=e[2],t[r+3]=e[3]}];function sf(t,e){let r=[],n=0;function a(){if(n===t.length)throw new Error("Ran out of data");let i=t[n];n++;let s,l,o,h,u,c,p,d;switch(e){default:throw new Error("unrecognised depth");case 16:p=t[n],n++,r.push((i<<8)+p);break;case 4:p=i&15,d=i>>4,r.push(d,p);break;case 2:u=i&3,c=i>>2&3,p=i>>4&3,d=i>>6&3,r.push(d,p,c,u);break;case 1:s=i&1,l=i>>1&1,o=i>>2&1,h=i>>3&1,u=i>>4&1,c=i>>5&1,p=i>>6&1,d=i>>7&1,r.push(d,p,c,u,h,o,l,s);break}}return{get:function(i){for(;r.length<i;)a();let s=r.slice(0,i);return r=r.slice(i),s},resetAfterLine:function(){r.length=0},end:function(){if(n!==t.length)throw new Error("extra data found")}}}function of(t,e,r,n,a,i){let s=t.width,l=t.height,o=t.index;for(let h=0;h<l;h++)for(let u=0;u<s;u++){let c=r(u,h,o);nf[n](e,a,c,i),i+=n}return i}function lf(t,e,r,n,a,i){let s=t.width,l=t.height,o=t.index;for(let h=0;h<l;h++){for(let u=0;u<s;u++){let c=a.get(n),p=r(u,h,o);af[n](e,c,p,i)}a.resetAfterLine()}}ai.dataToBitMap=function(t,e){let r=e.width,n=e.height,a=e.depth,i=e.bpp,s=e.interlace,l;a!==8&&(l=sf(t,a));let o;a<=8?o=Buffer.alloc(r*n*4):o=new Uint16Array(r*n*4);let h=Math.pow(2,a)-1,u=0,c,p;if(s)c=ni.getImagePasses(r,n),p=ni.getInterlaceIterator(r,n);else{let d=0;p=function(){let m=d;return d+=4,m},c=[{width:r,height:n}]}for(let d=0;d<c.length;d++)a===8?u=of(c[d],o,p,i,t,u):lf(c[d],o,p,i,l,h);if(a===8){if(u!==t.length)throw new Error("extra data found")}else l.end();return o}});var hn=L((Su,ii)=>{"use strict";function ff(t,e,r,n,a){let i=0;for(let s=0;s<n;s++)for(let l=0;l<r;l++){let o=a[t[i]];if(!o)throw new Error("index "+t[i]+" not in palette");for(let h=0;h<4;h++)e[i+h]=o[h];i+=4}}function hf(t,e,r,n,a){let i=0;for(let s=0;s<n;s++)for(let l=0;l<r;l++){let o=!1;if(a.length===1?a[0]===t[i]&&(o=!0):a[0]===t[i]&&a[1]===t[i+1]&&a[2]===t[i+2]&&(o=!0),o)for(let h=0;h<4;h++)e[i+h]=0;i+=4}}function uf(t,e,r,n,a){let i=255,s=Math.pow(2,a)-1,l=0;for(let o=0;o<n;o++)for(let h=0;h<r;h++){for(let u=0;u<4;u++)e[l+u]=Math.floor(t[l+u]*i/s+.5);l+=4}}ii.exports=function(t,e,r=!1){let n=e.depth,a=e.width,i=e.height,s=e.colorType,l=e.transColor,o=e.palette,h=t;return s===3?ff(t,h,a,i,o):(l&&hf(t,h,a,i,l),n!==8&&!r&&(n===16&&(h=Buffer.alloc(a*i*4)),uf(t,h,a,i,n))),h}});var li=L((Eu,oi)=>{"use strict";var cf=require("util"),un=require("zlib"),si=Or(),pf=Oa(),df=ln(),mf=fn(),xf=hn(),$e=oi.exports=function(t){si.call(this),this._parser=new df(t,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this),simpleTransparency:this._simpleTransparency.bind(this),headersFinished:this._headersFinished.bind(this)}),this._options=t,this.writable=!0,this._parser.start()};cf.inherits($e,si);$e.prototype._handleError=function(t){this.emit("error",t),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0};$e.prototype._inflateData=function(t){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=un.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{let r=((this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1)*this._bitmapInfo.height,n=Math.max(r,un.Z_MIN_CHUNK);this._inflate=un.createInflate({chunkSize:n});let a=r,i=this.emit.bind(this,"error");this._inflate.on("error",function(l){a&&i(l)}),this._filter.on("complete",this._complete.bind(this));let s=this._filter.write.bind(this._filter);this._inflate.on("data",function(l){a&&(l.length>a&&(l=l.slice(0,a)),a-=l.length,s(l))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(t)};$e.prototype._handleMetaData=function(t){this._metaData=t,this._bitmapInfo=Object.create(t),this._filter=new pf(this._bitmapInfo)};$e.prototype._handleTransColor=function(t){this._bitmapInfo.transColor=t};$e.prototype._handlePalette=function(t){this._bitmapInfo.palette=t};$e.prototype._simpleTransparency=function(){this._metaData.alpha=!0};$e.prototype._headersFinished=function(){this.emit("metadata",this._metaData)};$e.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"))};$e.prototype._complete=function(t){if(this.errord)return;let e;try{let r=mf.dataToBitMap(t,this._bitmapInfo);e=xf(r,this._bitmapInfo,this._options.skipRescale),r=null}catch(r){this._handleError(r);return}this.emit("parsed",e)}});var hi=L((Cu,fi)=>{"use strict";var Ye=bt();fi.exports=function(t,e,r,n){let a=[Ye.COLORTYPE_COLOR_ALPHA,Ye.COLORTYPE_ALPHA].indexOf(n.colorType)!==-1;if(n.colorType===n.inputColorType){let m=function(){let F=new ArrayBuffer(2);return new DataView(F).setInt16(0,256,!0),new Int16Array(F)[0]!==256}();if(n.bitDepth===8||n.bitDepth===16&&m)return t}let i=n.bitDepth!==16?t:new Uint16Array(t.buffer),s=255,l=Ye.COLORTYPE_TO_BPP_MAP[n.inputColorType];l===4&&!n.inputHasAlpha&&(l=3);let o=Ye.COLORTYPE_TO_BPP_MAP[n.colorType];n.bitDepth===16&&(s=65535,o*=2);let h=Buffer.alloc(e*r*o),u=0,c=0,p=n.bgColor||{};p.red===void 0&&(p.red=s),p.green===void 0&&(p.green=s),p.blue===void 0&&(p.blue=s);function d(){let m,F,b,I=s;switch(n.inputColorType){case Ye.COLORTYPE_COLOR_ALPHA:I=i[u+3],m=i[u],F=i[u+1],b=i[u+2];break;case Ye.COLORTYPE_COLOR:m=i[u],F=i[u+1],b=i[u+2];break;case Ye.COLORTYPE_ALPHA:I=i[u+1],m=i[u],F=m,b=m;break;case Ye.COLORTYPE_GRAYSCALE:m=i[u],F=m,b=m;break;default:throw new Error("input color type:"+n.inputColorType+" is not supported at present")}return n.inputHasAlpha&&(a||(I/=s,m=Math.min(Math.max(Math.round((1-I)*p.red+I*m),0),s),F=Math.min(Math.max(Math.round((1-I)*p.green+I*F),0),s),b=Math.min(Math.max(Math.round((1-I)*p.blue+I*b),0),s))),{red:m,green:F,blue:b,alpha:I}}for(let m=0;m<r;m++)for(let F=0;F<e;F++){let b=d(i,u);switch(n.colorType){case Ye.COLORTYPE_COLOR_ALPHA:case Ye.COLORTYPE_COLOR:n.bitDepth===8?(h[c]=b.red,h[c+1]=b.green,h[c+2]=b.blue,a&&(h[c+3]=b.alpha)):(h.writeUInt16BE(b.red,c),h.writeUInt16BE(b.green,c+2),h.writeUInt16BE(b.blue,c+4),a&&h.writeUInt16BE(b.alpha,c+6));break;case Ye.COLORTYPE_ALPHA:case Ye.COLORTYPE_GRAYSCALE:{let I=(b.red+b.green+b.blue)/3;n.bitDepth===8?(h[c]=I,a&&(h[c+1]=b.alpha)):(h.writeUInt16BE(I,c),a&&h.writeUInt16BE(b.alpha,c+2));break}default:throw new Error("unrecognised color Type "+n.colorType)}u+=l,c+=o}return h}});var pi=L((Au,ci)=>{"use strict";var ui=rn();function vf(t,e,r,n,a){for(let i=0;i<r;i++)n[a+i]=t[e+i]}function gf(t,e,r){let n=0,a=e+r;for(let i=e;i<a;i++)n+=Math.abs(t[i]);return n}function bf(t,e,r,n,a,i){for(let s=0;s<r;s++){let l=s>=i?t[e+s-i]:0,o=t[e+s]-l;n[a+s]=o}}function yf(t,e,r,n){let a=0;for(let i=0;i<r;i++){let s=i>=n?t[e+i-n]:0,l=t[e+i]-s;a+=Math.abs(l)}return a}function Tf(t,e,r,n,a){for(let i=0;i<r;i++){let s=e>0?t[e+i-r]:0,l=t[e+i]-s;n[a+i]=l}}function wf(t,e,r){let n=0,a=e+r;for(let i=e;i<a;i++){let s=e>0?t[i-r]:0,l=t[i]-s;n+=Math.abs(l)}return n}function Ff(t,e,r,n,a,i){for(let s=0;s<r;s++){let l=s>=i?t[e+s-i]:0,o=e>0?t[e+s-r]:0,h=t[e+s]-(l+o>>1);n[a+s]=h}}function kf(t,e,r,n){let a=0;for(let i=0;i<r;i++){let s=i>=n?t[e+i-n]:0,l=e>0?t[e+i-r]:0,o=t[e+i]-(s+l>>1);a+=Math.abs(o)}return a}function If(t,e,r,n,a,i){for(let s=0;s<r;s++){let l=s>=i?t[e+s-i]:0,o=e>0?t[e+s-r]:0,h=e>0&&s>=i?t[e+s-(r+i)]:0,u=t[e+s]-ui(l,o,h);n[a+s]=u}}function Uf(t,e,r,n){let a=0;for(let i=0;i<r;i++){let s=i>=n?t[e+i-n]:0,l=e>0?t[e+i-r]:0,o=e>0&&i>=n?t[e+i-(r+n)]:0,h=t[e+i]-ui(s,l,o);a+=Math.abs(h)}return a}var _f={0:vf,1:bf,2:Tf,3:Ff,4:If},Pf={0:gf,1:yf,2:wf,3:kf,4:Uf};ci.exports=function(t,e,r,n,a){let i;if(!("filterType"in n)||n.filterType===-1)i=[0,1,2,3,4];else if(typeof n.filterType=="number")i=[n.filterType];else throw new Error("unrecognised filter types");n.bitDepth===16&&(a*=2);let s=e*a,l=0,o=0,h=Buffer.alloc((s+1)*r),u=i[0];for(let c=0;c<r;c++){if(i.length>1){let p=1/0;for(let d=0;d<i.length;d++){let m=Pf[i[d]](t,o,s,a);m<p&&(u=i[d],p=m)}}h[l]=u,l++,_f[u](t,o,s,h,l,a),l+=s,o+=s}return h}});var cn=L((Gu,di)=>{"use strict";var Se=bt(),Bf=on(),Sf=hi(),Ef=pi(),Cf=require("zlib"),rt=di.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32*1024,t.deflateLevel=t.deflateLevel!=null?t.deflateLevel:9,t.deflateStrategy=t.deflateStrategy!=null?t.deflateStrategy:3,t.inputHasAlpha=t.inputHasAlpha!=null?t.inputHasAlpha:!0,t.deflateFactory=t.deflateFactory||Cf.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType=typeof t.colorType=="number"?t.colorType:Se.COLORTYPE_COLOR_ALPHA,t.inputColorType=typeof t.inputColorType=="number"?t.inputColorType:Se.COLORTYPE_COLOR_ALPHA,[Se.COLORTYPE_GRAYSCALE,Se.COLORTYPE_COLOR,Se.COLORTYPE_COLOR_ALPHA,Se.COLORTYPE_ALPHA].indexOf(t.colorType)===-1)throw new Error("option color type:"+t.colorType+" is not supported at present");if([Se.COLORTYPE_GRAYSCALE,Se.COLORTYPE_COLOR,Se.COLORTYPE_COLOR_ALPHA,Se.COLORTYPE_ALPHA].indexOf(t.inputColorType)===-1)throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(t.bitDepth!==8&&t.bitDepth!==16)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};rt.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}};rt.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())};rt.prototype.filterData=function(t,e,r){let n=Sf(t,e,r,this._options),a=Se.COLORTYPE_TO_BPP_MAP[this._options.colorType];return Ef(n,e,r,this._options,a)};rt.prototype._packChunk=function(t,e){let r=e?e.length:0,n=Buffer.alloc(r+12);return n.writeUInt32BE(r,0),n.writeUInt32BE(t,4),e&&e.copy(n,8),n.writeInt32BE(Bf.crc32(n.slice(4,n.length-4)),n.length-4),n};rt.prototype.packGAMA=function(t){let e=Buffer.alloc(4);return e.writeUInt32BE(Math.floor(t*Se.GAMMA_DIVISION),0),this._packChunk(Se.TYPE_gAMA,e)};rt.prototype.packIHDR=function(t,e){let r=Buffer.alloc(13);return r.writeUInt32BE(t,0),r.writeUInt32BE(e,4),r[8]=this._options.bitDepth,r[9]=this._options.colorType,r[10]=0,r[11]=0,r[12]=0,this._packChunk(Se.TYPE_IHDR,r)};rt.prototype.packIDAT=function(t){return this._packChunk(Se.TYPE_IDAT,t)};rt.prototype.packIEND=function(){return this._packChunk(Se.TYPE_IEND,null)}});var gi=L((qu,vi)=>{"use strict";var Af=require("util"),mi=require("stream"),Gf=bt(),qf=cn(),xi=vi.exports=function(t){mi.call(this);let e=t||{};this._packer=new qf(e),this._deflate=this._packer.createDeflate(),this.readable=!0};Af.inherits(xi,mi);xi.prototype.pack=function(t,e,r,n){this.emit("data",Buffer.from(Gf.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(e,r)),n&&this.emit("data",this._packer.packGAMA(n));let a=this._packer.filterData(t,e,r);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(i){this.emit("data",this._packer.packIDAT(i))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(a)}});var ki=L((Mt,Fi)=>{"use strict";var bi=require("assert").ok,yt=require("zlib"),Hf=require("util"),yi=require("buffer").kMaxLength;function lt(t){if(!(this instanceof lt))return new lt(t);t&&t.chunkSize<yt.Z_MIN_CHUNK&&(t.chunkSize=yt.Z_MIN_CHUNK),yt.Inflate.call(this,t),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,t&&t.maxLength!=null&&(this._maxLength=t.maxLength)}function Rf(t){return new lt(t)}function Ti(t,e){e&&process.nextTick(e),t._handle&&(t._handle.close(),t._handle=null)}lt.prototype._processChunk=function(t,e,r){if(typeof r=="function")return yt.Inflate._processChunk.call(this,t,e,r);let n=this,a=t&&t.length,i=this._chunkSize-this._offset,s=this._maxLength,l=0,o=[],h=0,u;this.on("error",function(m){u=m});function c(m,F){if(n._hadError)return;let b=i-F;if(bi(b>=0,"have should not go down"),b>0){let I=n._buffer.slice(n._offset,n._offset+b);if(n._offset+=b,I.length>s&&(I=I.slice(0,s)),o.push(I),h+=I.length,s-=I.length,s===0)return!1}return(F===0||n._offset>=n._chunkSize)&&(i=n._chunkSize,n._offset=0,n._buffer=Buffer.allocUnsafe(n._chunkSize)),F===0?(l+=a-m,a=m,!0):!1}bi(this._handle,"zlib binding closed");let p;do p=this._handle.writeSync(e,t,l,a,this._buffer,this._offset,i),p=p||this._writeState;while(!this._hadError&&c(p[0],p[1]));if(this._hadError)throw u;if(h>=yi)throw Ti(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+yi.toString(16)+" bytes");let d=Buffer.concat(o,h);return Ti(this),d};Hf.inherits(lt,yt.Inflate);function Mf(t,e){if(typeof e=="string"&&(e=Buffer.from(e)),!(e instanceof Buffer))throw new TypeError("Not a string or buffer");let r=t._finishFlushFlag;return r==null&&(r=yt.Z_FINISH),t._processChunk(e,r)}function wi(t,e){return Mf(new lt(e),t)}Fi.exports=Mt=wi;Mt.Inflate=lt;Mt.createInflate=Rf;Mt.inflateSync=wi});var pn=L((Hu,Ui)=>{"use strict";var Ii=Ui.exports=function(t){this._buffer=t,this._reads=[]};Ii.prototype.read=function(t,e){this._reads.push({length:Math.abs(t),allowLess:t<0,func:e})};Ii.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){let t=this._reads[0];if(this._buffer.length&&(this._buffer.length>=t.length||t.allowLess)){this._reads.shift();let e=this._buffer;this._buffer=e.slice(t.length),t.func.call(this,e.slice(0,t.length))}else break}if(this._reads.length>0)throw new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)throw new Error("unrecognised content at end of stream")}});var Pi=L(_i=>{"use strict";var Yf=pn(),Wf=nn();_i.process=function(t,e){let r=[],n=new Yf(t);return new Wf(e,{read:n.read.bind(n),write:function(i){r.push(i)},complete:function(){}}).start(),n.process(),Buffer.concat(r)}});var Ci=L((Mu,Ei)=>{"use strict";var Bi=!0,Si=require("zlib"),Vf=ki();Si.deflateSync||(Bi=!1);var Lf=pn(),Xf=Pi(),zf=ln(),Nf=fn(),Zf=hn();Ei.exports=function(t,e){if(!Bi)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r;function n(U){r=U}let a;function i(U){a=U}function s(U){a.transColor=U}function l(U){a.palette=U}function o(){a.alpha=!0}let h;function u(U){h=U}let c=[];function p(U){c.push(U)}let d=new Lf(t);if(new zf(e,{read:d.read.bind(d),error:n,metadata:i,gamma:u,palette:l,transColor:s,inflateData:p,simpleTransparency:o}).start(),d.process(),r)throw r;let F=Buffer.concat(c);c.length=0;let b;if(a.interlace)b=Si.inflateSync(F);else{let y=((a.width*a.bpp*a.depth+7>>3)+1)*a.height;b=Vf(F,{chunkSize:y,maxLength:y})}if(F=null,!b||!b.length)throw new Error("bad png - invalid inflate data response");let I=Xf.process(b,a);F=null;let w=Nf.dataToBitMap(I,a);I=null;let x=Zf(w,a,e.skipRescale);return a.data=x,a.gamma=h||0,a}});var Hi=L((Yu,qi)=>{"use strict";var Ai=!0,Gi=require("zlib");Gi.deflateSync||(Ai=!1);var jf=bt(),Qf=cn();qi.exports=function(t,e){if(!Ai)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");let r=e||{},n=new Qf(r),a=[];a.push(Buffer.from(jf.PNG_SIGNATURE)),a.push(n.packIHDR(t.width,t.height)),t.gamma&&a.push(n.packGAMA(t.gamma));let i=n.filterData(t.data,t.width,t.height),s=Gi.deflateSync(i,n.getDeflateOptions());if(i=null,!s||!s.length)throw new Error("bad png - invalid compressed data response");return a.push(n.packIDAT(s)),a.push(n.packIEND()),Buffer.concat(a)}});var Ri=L(dn=>{"use strict";var Kf=Ci(),Jf=Hi();dn.read=function(t,e){return Kf(t,e||{})};dn.write=function(t,e){return Jf(t,e)}});var Wi=L(Yi=>{"use strict";var $f=require("util"),Mi=require("stream"),Df=li(),Of=gi(),eh=Ri(),Ce=Yi.PNG=function(t){Mi.call(this),t=t||{},this.width=t.width|0,this.height=t.height|0,this.data=this.width>0&&this.height>0?Buffer.alloc(4*this.width*this.height):null,t.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new Df(t),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(e){this.data=e,this.emit("parsed",e)}.bind(this)),this._packer=new Of(t),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};$f.inherits(Ce,Mi);Ce.sync=eh;Ce.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(process.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)};Ce.prototype.parse=function(t,e){if(e){let r,n;r=function(a){this.removeListener("error",n),this.data=a,e(null,this)}.bind(this),n=function(a){this.removeListener("parsed",r),e(a,null)}.bind(this),this.once("parsed",r),this.once("error",n)}return this.end(t),this};Ce.prototype.write=function(t){return this._parser.write(t),!0};Ce.prototype.end=function(t){this._parser.end(t)};Ce.prototype._metadata=function(t){this.width=t.width,this.height=t.height,this.emit("metadata",t)};Ce.prototype._gamma=function(t){this.gamma=t};Ce.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")};Ce.bitblt=function(t,e,r,n,a,i,s,l){if(r|=0,n|=0,a|=0,i|=0,s|=0,l|=0,r>t.width||n>t.height||r+a>t.width||n+i>t.height)throw new Error("bitblt reading outside image");if(s>e.width||l>e.height||s+a>e.width||l+i>e.height)throw new Error("bitblt writing outside image");for(let o=0;o<i;o++)t.data.copy(e.data,(l+o)*e.width+s<<2,(n+o)*t.width+r<<2,(n+o)*t.width+r+a<<2)};Ce.prototype.bitblt=function(t,e,r,n,a,i,s){return Ce.bitblt(this,t,e,r,n,a,i,s),this};Ce.adjustGamma=function(t){if(t.gamma){for(let e=0;e<t.height;e++)for(let r=0;r<t.width;r++){let n=t.width*e+r<<2;for(let a=0;a<3;a++){let i=t.data[n+a]/255;i=Math.pow(i,1/2.2/t.gamma),t.data[n+a]=Math.round(i*255)}}t.gamma=0}};Ce.prototype.adjustGamma=function(){Ce.adjustGamma(this)}});var Xi=L((Lu,lr)=>{var Li=Li||function(t){return Buffer.from(t).toString("base64")};function th(t){var e=this,r=Math.round,n=Math.floor,a=new Array(64),i=new Array(64),s=new Array(64),l=new Array(64),o,h,u,c,p=new Array(65535),d=new Array(65535),m=new Array(64),F=new Array(64),b=[],I=0,w=7,x=new Array(64),U=new Array(64),y=new Array(64),W=new Array(256),T=new Array(2048),R,S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],G=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],P=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function le(v){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],N=0;N<64;N++){var X=n((Y[N]*v+50)/100);X<1?X=1:X>255&&(X=255),a[S[N]]=X}for(var $=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],D=0;D<64;D++){var fe=n(($[D]*v+50)/100);fe<1?fe=1:fe>255&&(fe=255),i[S[D]]=fe}for(var he=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],we=0,ge=0;ge<8;ge++)for(var k=0;k<8;k++)s[we]=1/(a[S[we]]*he[ge]*he[k]*8),l[we]=1/(i[S[we]]*he[ge]*he[k]*8),we++}function te(v,Y){for(var N=0,X=0,$=new Array,D=1;D<=16;D++){for(var fe=1;fe<=v[D];fe++)$[Y[X]]=[],$[Y[X]][0]=N,$[Y[X]][1]=D,X++,N++;N*=2}return $}function Fe(){o=te(E,G),h=te(z,P),u=te(V,C),c=te(H,de)}function ie(){for(var v=1,Y=2,N=1;N<=15;N++){for(var X=v;X<Y;X++)d[32767+X]=N,p[32767+X]=[],p[32767+X][1]=N,p[32767+X][0]=X;for(var $=-(Y-1);$<=-v;$++)d[32767+$]=N,p[32767+$]=[],p[32767+$][1]=N,p[32767+$][0]=Y-1+$;v<<=1,Y<<=1}}function ee(){for(var v=0;v<256;v++)T[v]=19595*v,T[v+256>>0]=38470*v,T[v+512>>0]=7471*v+32768,T[v+768>>0]=-11059*v,T[v+1024>>0]=-21709*v,T[v+1280>>0]=32768*v+8421375,T[v+1536>>0]=-27439*v,T[v+1792>>0]=-5329*v}function J(v){for(var Y=v[0],N=v[1]-1;N>=0;)Y&1<<N&&(I|=1<<w),N--,w--,w<0&&(I==255?(g(255),g(0)):g(I),w=7,I=0)}function g(v){b.push(v)}function M(v){g(v>>8&255),g(v&255)}function ue(v,Y){var N,X,$,D,fe,he,we,ge,k=0,q,K=8,ye=64;for(q=0;q<K;++q){N=v[k],X=v[k+1],$=v[k+2],D=v[k+3],fe=v[k+4],he=v[k+5],we=v[k+6],ge=v[k+7];var O=N+ge,ae=N-ge,xe=X+we,Z=X-we,ce=$+he,Pe=$-he,be=D+fe,Re=D-fe,Ne=O+be,nt=O-be,ft=xe+ce,ht=xe-ce;v[k]=Ne+ft,v[k+4]=Ne-ft;var Tt=(ht+nt)*.707106781;v[k+2]=nt+Tt,v[k+6]=nt-Tt,Ne=Re+Pe,ft=Pe+Z,ht=Z+ae;var wt=(Ne-ht)*.382683433,Yt=.5411961*Ne+wt,Ft=1.306562965*ht+wt,kt=ft*.707106781,It=ae+kt,Ut=ae-kt;v[k+5]=Ut+Yt,v[k+3]=Ut-Yt,v[k+1]=It+Ft,v[k+7]=It-Ft,k+=8}for(k=0,q=0;q<K;++q){N=v[k],X=v[k+8],$=v[k+16],D=v[k+24],fe=v[k+32],he=v[k+40],we=v[k+48],ge=v[k+56];var vn=N+ge,hr=N-ge,gn=X+we,bn=X-we,yn=$+he,Tn=$-he,wn=D+fe,Ki=D-fe,_t=vn+wn,ur=vn-wn,Wt=gn+yn,Vt=gn-yn;v[k]=_t+Wt,v[k+32]=_t-Wt;var Fn=(Vt+ur)*.707106781;v[k+16]=ur+Fn,v[k+48]=ur-Fn,_t=Ki+Tn,Wt=Tn+bn,Vt=bn+hr;var kn=(_t-Vt)*.382683433,In=.5411961*_t+kn,Un=1.306562965*Vt+kn,_n=Wt*.707106781,Pn=hr+_n,Bn=hr-_n;v[k+40]=Bn+In,v[k+24]=Bn-In,v[k+8]=Pn+Un,v[k+56]=Pn-Un,k++}var Lt;for(q=0;q<ye;++q)Lt=v[q]*Y[q],m[q]=Lt>0?Lt+.5|0:Lt-.5|0;return m}function me(){M(65504),M(16),g(74),g(70),g(73),g(70),g(0),g(1),g(1),g(0),M(1),M(1),g(0),g(0)}function se(v){if(v){M(65505),v[0]===69&&v[1]===120&&v[2]===105&&v[3]===102?M(v.length+2):(M(v.length+5+2),g(69),g(120),g(105),g(102),g(0));for(var Y=0;Y<v.length;Y++)g(v[Y])}}function oe(v,Y){M(65472),M(17),g(8),M(Y),M(v),g(3),g(1),g(17),g(0),g(2),g(17),g(1),g(3),g(17),g(1)}function re(){M(65499),M(132),g(0);for(var v=0;v<64;v++)g(a[v]);g(1);for(var Y=0;Y<64;Y++)g(i[Y])}function A(){M(65476),M(418),g(0);for(var v=0;v<16;v++)g(E[v+1]);for(var Y=0;Y<=11;Y++)g(G[Y]);g(16);for(var N=0;N<16;N++)g(V[N+1]);for(var X=0;X<=161;X++)g(C[X]);g(1);for(var $=0;$<16;$++)g(z[$+1]);for(var D=0;D<=11;D++)g(P[D]);g(17);for(var fe=0;fe<16;fe++)g(H[fe+1]);for(var he=0;he<=161;he++)g(de[he])}function _(v){typeof v>"u"||v.constructor!==Array||v.forEach(Y=>{if(typeof Y=="string"){M(65534);var N=Y.length;M(N+2);var X;for(X=0;X<N;X++)g(Y.charCodeAt(X))}})}function ve(){M(65498),M(12),g(3),g(1),g(0),g(2),g(17),g(3),g(17),g(0),g(63),g(0)}function Q(v,Y,N,X,$){for(var D=$[0],fe=$[240],he,we=16,ge=63,k=64,q=ue(v,Y),K=0;K<k;++K)F[S[K]]=q[K];var ye=F[0]-N;N=F[0],ye==0?J(X[0]):(he=32767+ye,J(X[d[he]]),J(p[he]));for(var O=63;O>0&&F[O]==0;O--);if(O==0)return J(D),N;for(var ae=1,xe;ae<=O;){for(var Z=ae;F[ae]==0&&ae<=O;++ae);var ce=ae-Z;if(ce>=we){xe=ce>>4;for(var Pe=1;Pe<=xe;++Pe)J(fe);ce=ce&15}he=32767+F[ae],J($[(ce<<4)+d[he]]),J(p[he]),ae++}return O!=ge&&J(D),N}function ne(){for(var v=String.fromCharCode,Y=0;Y<256;Y++)W[Y]=v(Y)}this.encode=function(v,Y){var N=new Date().getTime();Y&&He(Y),b=new Array,I=0,w=7,M(65496),me(),_(v.comments),se(v.exifBuffer),re(),oe(v.width,v.height),A(),ve();var X=0,$=0,D=0;I=0,w=7,this.encode.displayName="_encode_";for(var fe=v.data,he=v.width,we=v.height,ge=he*4,k=he*3,q,K=0,ye,O,ae,xe,Z,ce,Pe,be;K<we;){for(q=0;q<ge;){for(xe=ge*K+q,Z=xe,ce=-1,Pe=0,be=0;be<64;be++)Pe=be>>3,ce=(be&7)*4,Z=xe+Pe*ge+ce,K+Pe>=we&&(Z-=ge*(K+1+Pe-we)),q+ce>=ge&&(Z-=q+ce-ge+4),ye=fe[Z++],O=fe[Z++],ae=fe[Z++],x[be]=(T[ye]+T[O+256>>0]+T[ae+512>>0]>>16)-128,U[be]=(T[ye+768>>0]+T[O+1024>>0]+T[ae+1280>>0]>>16)-128,y[be]=(T[ye+1280>>0]+T[O+1536>>0]+T[ae+1792>>0]>>16)-128;X=Q(x,s,X,o,u),$=Q(U,l,$,h,c),D=Q(y,l,D,h,c),q+=32}K+=8}if(w>=0){var Re=[];Re[1]=w+1,Re[0]=(1<<w+1)-1,J(Re)}if(M(65497),typeof lr>"u")return new Uint8Array(b);return Buffer.from(b);var Ne,nt};function He(v){if(v<=0&&(v=1),v>100&&(v=100),R!=v){var Y=0;v<50?Y=Math.floor(5e3/v):Y=Math.floor(200-v*2),le(Y),R=v}}function We(){var v=new Date().getTime();t||(t=50),ne(),Fe(),ie(),ee(),He(t);var Y=new Date().getTime()-v}We()}typeof lr<"u"?lr.exports=Vi:typeof window<"u"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].encode=Vi);function Vi(t,e){typeof e>"u"&&(e=50);var r=new th(e),n=r.encode(t,e);return{data:n,width:t.width,height:t.height}}});var Ni=L((Xu,xn)=>{var mn=function(){"use strict";var e=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),r=4017,n=799,a=3406,i=2276,s=1567,l=3784,o=5793,h=2896;function u(){}function c(w,x){for(var U=0,y=[],W,T,R=16;R>0&&!w[R-1];)R--;y.push({children:[],index:0});var S=y[0],E;for(W=0;W<R;W++){for(T=0;T<w[W];T++){for(S=y.pop(),S.children[S.index]=x[U];S.index>0;){if(y.length===0)throw new Error("Could not recreate Huffman Table");S=y.pop()}for(S.index++,y.push(S);y.length<=W;)y.push(E={children:[],index:0}),S.children[S.index]=E.children,S=E;U++}W+1<R&&(y.push(E={children:[],index:0}),S.children[S.index]=E.children,S=E)}return y[0].children}function p(w,x,U,y,W,T,R,S,E,G){var V=U.precision,C=U.samplesPerLine,z=U.scanLines,P=U.mcusPerLine,H=U.progressive,de=U.maxH,le=U.maxV,te=x,Fe=0,ie=0;function ee(){if(ie>0)return ie--,Fe>>ie&1;if(Fe=w[x++],Fe==255){var k=w[x++];if(k)throw new Error("unexpected marker: "+(Fe<<8|k).toString(16))}return ie=7,Fe>>>7}function J(k){for(var q=k,K;(K=ee())!==null;){if(q=q[K],typeof q=="number")return q;if(typeof q!="object")throw new Error("invalid huffman sequence")}return null}function g(k){for(var q=0;k>0;){var K=ee();if(K===null)return;q=q<<1|K,k--}return q}function M(k){var q=g(k);return q>=1<<k-1?q:q+(-1<<k)+1}function ue(k,q){var K=J(k.huffmanTableDC),ye=K===0?0:M(K);q[0]=k.pred+=ye;for(var O=1;O<64;){var ae=J(k.huffmanTableAC),xe=ae&15,Z=ae>>4;if(xe===0){if(Z<15)break;O+=16;continue}O+=Z;var ce=e[O];q[ce]=M(xe),O++}}function me(k,q){var K=J(k.huffmanTableDC),ye=K===0?0:M(K)<<E;q[0]=k.pred+=ye}function se(k,q){q[0]|=ee()<<E}var oe=0;function re(k,q){if(oe>0){oe--;return}for(var K=T,ye=R;K<=ye;){var O=J(k.huffmanTableAC),ae=O&15,xe=O>>4;if(ae===0){if(xe<15){oe=g(xe)+(1<<xe)-1;break}K+=16;continue}K+=xe;var Z=e[K];q[Z]=M(ae)*(1<<E),K++}}var A=0,_;function ve(k,q){for(var K=T,ye=R,O=0;K<=ye;){var ae=e[K],xe=q[ae]<0?-1:1;switch(A){case 0:var Z=J(k.huffmanTableAC),ce=Z&15,O=Z>>4;if(ce===0)O<15?(oe=g(O)+(1<<O),A=4):(O=16,A=1);else{if(ce!==1)throw new Error("invalid ACn encoding");_=M(ce),A=O?2:3}continue;case 1:case 2:q[ae]?q[ae]+=(ee()<<E)*xe:(O--,O===0&&(A=A==2?3:0));break;case 3:q[ae]?q[ae]+=(ee()<<E)*xe:(q[ae]=_<<E,A=0);break;case 4:q[ae]&&(q[ae]+=(ee()<<E)*xe);break}K++}A===4&&(oe--,oe===0&&(A=0))}function Q(k,q,K,ye,O){var ae=K/P|0,xe=K%P,Z=ae*k.v+ye,ce=xe*k.h+O;k.blocks[Z]===void 0&&G.tolerantDecoding||q(k,k.blocks[Z][ce])}function ne(k,q,K){var ye=K/k.blocksPerLine|0,O=K%k.blocksPerLine;k.blocks[ye]===void 0&&G.tolerantDecoding||q(k,k.blocks[ye][O])}var He=y.length,We,v,Y,N,X,$;H?T===0?$=S===0?me:se:$=S===0?re:ve:$=ue;var D=0,fe,he;He==1?he=y[0].blocksPerLine*y[0].blocksPerColumn:he=P*U.mcusPerColumn,W||(W=he);for(var we,ge;D<he;){for(v=0;v<He;v++)y[v].pred=0;if(oe=0,He==1)for(We=y[0],X=0;X<W;X++)ne(We,$,D),D++;else for(X=0;X<W;X++){for(v=0;v<He;v++)for(We=y[v],we=We.h,ge=We.v,Y=0;Y<ge;Y++)for(N=0;N<we;N++)Q(We,$,D,Y,N);if(D++,D===he)break}if(D===he)do{if(w[x]===255&&w[x+1]!==0)break;x+=1}while(x<w.length-2);if(ie=0,fe=w[x]<<8|w[x+1],fe<65280)throw new Error("marker was not found");if(fe>=65488&&fe<=65495)x+=2;else break}return x-te}function d(w,x){var U=[],y=x.blocksPerLine,W=x.blocksPerColumn,T=y<<3,R=new Int32Array(64),S=new Uint8Array(64);function E(te,Fe,ie){var ee=x.quantizationTable,J,g,M,ue,me,se,oe,re,A,_=ie,ve;for(ve=0;ve<64;ve++)_[ve]=te[ve]*ee[ve];for(ve=0;ve<8;++ve){var Q=8*ve;if(_[1+Q]==0&&_[2+Q]==0&&_[3+Q]==0&&_[4+Q]==0&&_[5+Q]==0&&_[6+Q]==0&&_[7+Q]==0){A=o*_[0+Q]+512>>10,_[0+Q]=A,_[1+Q]=A,_[2+Q]=A,_[3+Q]=A,_[4+Q]=A,_[5+Q]=A,_[6+Q]=A,_[7+Q]=A;continue}J=o*_[0+Q]+128>>8,g=o*_[4+Q]+128>>8,M=_[2+Q],ue=_[6+Q],me=h*(_[1+Q]-_[7+Q])+128>>8,re=h*(_[1+Q]+_[7+Q])+128>>8,se=_[3+Q]<<4,oe=_[5+Q]<<4,A=J-g+1>>1,J=J+g+1>>1,g=A,A=M*l+ue*s+128>>8,M=M*s-ue*l+128>>8,ue=A,A=me-oe+1>>1,me=me+oe+1>>1,oe=A,A=re+se+1>>1,se=re-se+1>>1,re=A,A=J-ue+1>>1,J=J+ue+1>>1,ue=A,A=g-M+1>>1,g=g+M+1>>1,M=A,A=me*i+re*a+2048>>12,me=me*a-re*i+2048>>12,re=A,A=se*n+oe*r+2048>>12,se=se*r-oe*n+2048>>12,oe=A,_[0+Q]=J+re,_[7+Q]=J-re,_[1+Q]=g+oe,_[6+Q]=g-oe,_[2+Q]=M+se,_[5+Q]=M-se,_[3+Q]=ue+me,_[4+Q]=ue-me}for(ve=0;ve<8;++ve){var ne=ve;if(_[8+ne]==0&&_[16+ne]==0&&_[24+ne]==0&&_[32+ne]==0&&_[40+ne]==0&&_[48+ne]==0&&_[56+ne]==0){A=o*ie[ve+0]+8192>>14,_[0+ne]=A,_[8+ne]=A,_[16+ne]=A,_[24+ne]=A,_[32+ne]=A,_[40+ne]=A,_[48+ne]=A,_[56+ne]=A;continue}J=o*_[0+ne]+2048>>12,g=o*_[32+ne]+2048>>12,M=_[16+ne],ue=_[48+ne],me=h*(_[8+ne]-_[56+ne])+2048>>12,re=h*(_[8+ne]+_[56+ne])+2048>>12,se=_[24+ne],oe=_[40+ne],A=J-g+1>>1,J=J+g+1>>1,g=A,A=M*l+ue*s+2048>>12,M=M*s-ue*l+2048>>12,ue=A,A=me-oe+1>>1,me=me+oe+1>>1,oe=A,A=re+se+1>>1,se=re-se+1>>1,re=A,A=J-ue+1>>1,J=J+ue+1>>1,ue=A,A=g-M+1>>1,g=g+M+1>>1,M=A,A=me*i+re*a+2048>>12,me=me*a-re*i+2048>>12,re=A,A=se*n+oe*r+2048>>12,se=se*r-oe*n+2048>>12,oe=A,_[0+ne]=J+re,_[56+ne]=J-re,_[8+ne]=g+oe,_[48+ne]=g-oe,_[16+ne]=M+se,_[40+ne]=M-se,_[24+ne]=ue+me,_[32+ne]=ue-me}for(ve=0;ve<64;++ve){var He=128+(_[ve]+8>>4);Fe[ve]=He<0?0:He>255?255:He}}I(T*W*8);for(var G,V,C=0;C<W;C++){var z=C<<3;for(G=0;G<8;G++)U.push(new Uint8Array(T));for(var P=0;P<y;P++){E(x.blocks[C][P],S,R);var H=0,de=P<<3;for(V=0;V<8;V++){var le=U[z+V];for(G=0;G<8;G++)le[de+G]=S[H++]}}}return U}function m(w){return w<0?0:w>255?255:w}u.prototype={load:function(x){var U=new XMLHttpRequest;U.open("GET",x,!0),U.responseType="arraybuffer",U.onload=function(){var y=new Uint8Array(U.response||U.mozResponseArrayBuffer);this.parse(y),this.onload&&this.onload()}.bind(this),U.send(null)},parse:function(x){var U=this.opts.maxResolutionInMP*1e3*1e3,y=0,W=x.length;function T(){var Z=x[y]<<8|x[y+1];return y+=2,Z}function R(){var Z=T(),ce=x.subarray(y,y+Z-2);return y+=ce.length,ce}function S(Z){var ce=1,Pe=1,be,Re;for(Re in Z.components)Z.components.hasOwnProperty(Re)&&(be=Z.components[Re],ce<be.h&&(ce=be.h),Pe<be.v&&(Pe=be.v));var Ne=Math.ceil(Z.samplesPerLine/8/ce),nt=Math.ceil(Z.scanLines/8/Pe);for(Re in Z.components)if(Z.components.hasOwnProperty(Re)){be=Z.components[Re];var ft=Math.ceil(Math.ceil(Z.samplesPerLine/8)*be.h/ce),ht=Math.ceil(Math.ceil(Z.scanLines/8)*be.v/Pe),Tt=Ne*be.h,wt=nt*be.v,Yt=wt*Tt,Ft=[];I(Yt*256);for(var kt=0;kt<wt;kt++){for(var It=[],Ut=0;Ut<Tt;Ut++)It.push(new Int32Array(64));Ft.push(It)}be.blocksPerLine=ft,be.blocksPerColumn=ht,be.blocks=Ft}Z.maxH=ce,Z.maxV=Pe,Z.mcusPerLine=Ne,Z.mcusPerColumn=nt}var E=null,G=null,V=null,C,z,P=[],H=[],de=[],le=[],te=T(),Fe=-1;if(this.comments=[],te!=65496)throw new Error("SOI not found");for(te=T();te!=65497;){var ie,ee,J;switch(te){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var g=R();if(te===65534){var M=String.fromCharCode.apply(null,g);this.comments.push(M)}te===65504&&g[0]===74&&g[1]===70&&g[2]===73&&g[3]===70&&g[4]===0&&(E={version:{major:g[5],minor:g[6]},densityUnits:g[7],xDensity:g[8]<<8|g[9],yDensity:g[10]<<8|g[11],thumbWidth:g[12],thumbHeight:g[13],thumbData:g.subarray(14,14+3*g[12]*g[13])}),te===65505&&g[0]===69&&g[1]===120&&g[2]===105&&g[3]===102&&g[4]===0&&(this.exifBuffer=g.subarray(5,g.length)),te===65518&&g[0]===65&&g[1]===100&&g[2]===111&&g[3]===98&&g[4]===101&&g[5]===0&&(G={version:g[6],flags0:g[7]<<8|g[8],flags1:g[9]<<8|g[10],transformCode:g[11]});break;case 65499:for(var ue=T(),me=ue+y-2;y<me;){var se=x[y++];I(256);var oe=new Int32Array(64);if(se>>4)if(se>>4===1)for(ee=0;ee<64;ee++){var re=e[ee];oe[re]=T()}else throw new Error("DQT: invalid table spec");else for(ee=0;ee<64;ee++){var re=e[ee];oe[re]=x[y++]}P[se&15]=oe}break;case 65472:case 65473:case 65474:T(),C={},C.extended=te===65473,C.progressive=te===65474,C.precision=x[y++],C.scanLines=T(),C.samplesPerLine=T(),C.components={},C.componentsOrder=[];var A=C.scanLines*C.samplesPerLine;if(A>U){var _=Math.ceil((A-U)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${_}MP`)}var ve=x[y++],Q,ne=0,He=0;for(ie=0;ie<ve;ie++){Q=x[y];var We=x[y+1]>>4,v=x[y+1]&15,Y=x[y+2];if(We<=0||v<=0)throw new Error("Invalid sampling factor, expected values above 0");C.componentsOrder.push(Q),C.components[Q]={h:We,v,quantizationIdx:Y},y+=3}S(C),H.push(C);break;case 65476:var N=T();for(ie=2;ie<N;){var X=x[y++],$=new Uint8Array(16),D=0;for(ee=0;ee<16;ee++,y++)D+=$[ee]=x[y];I(16+D);var fe=new Uint8Array(D);for(ee=0;ee<D;ee++,y++)fe[ee]=x[y];ie+=17+D,(X>>4?de:le)[X&15]=c($,fe)}break;case 65501:T(),z=T();break;case 65500:T(),T();break;case 65498:var he=T(),we=x[y++],ge=[],k;for(ie=0;ie<we;ie++){k=C.components[x[y++]];var q=x[y++];k.huffmanTableDC=le[q>>4],k.huffmanTableAC=de[q&15],ge.push(k)}var K=x[y++],ye=x[y++],O=x[y++],ae=p(x,y,C,ge,z,K,ye,O>>4,O&15,this.opts);y+=ae;break;case 65535:x[y]!==255&&y--;break;default:if(x[y-3]==255&&x[y-2]>=192&&x[y-2]<=254){y-=3;break}else if(te===224||te==225){if(Fe!==-1)throw new Error(`first unknown JPEG marker at offset ${Fe.toString(16)}, second unknown JPEG marker ${te.toString(16)} at offset ${(y-1).toString(16)}`);Fe=y-1;let Z=T();if(x[y+Z-2]===255){y+=Z-2;break}}throw new Error("unknown JPEG marker "+te.toString(16))}te=T()}if(H.length!=1)throw new Error("only single frame JPEGs supported");for(var ie=0;ie<H.length;ie++){var xe=H[ie].components;for(var ee in xe)xe[ee].quantizationTable=P[xe[ee].quantizationIdx],delete xe[ee].quantizationIdx}this.width=C.samplesPerLine,this.height=C.scanLines,this.jfif=E,this.adobe=G,this.components=[];for(var ie=0;ie<C.componentsOrder.length;ie++){var k=C.components[C.componentsOrder[ie]];this.components.push({lines:d(C,k),scaleX:k.h/C.maxH,scaleY:k.v/C.maxV})}},getData:function(x,U){var y=this.width/x,W=this.height/U,T,R,S,E,G,V,C,z,P,H,de=0,le,te,Fe,ie,ee,J,g,M,ue,me,se,oe=x*U*this.components.length;I(oe);var re=new Uint8Array(oe);switch(this.components.length){case 1:for(T=this.components[0],H=0;H<U;H++)for(G=T.lines[0|H*T.scaleY*W],P=0;P<x;P++)le=G[0|P*T.scaleX*y],re[de++]=le;break;case 2:for(T=this.components[0],R=this.components[1],H=0;H<U;H++)for(G=T.lines[0|H*T.scaleY*W],V=R.lines[0|H*R.scaleY*W],P=0;P<x;P++)le=G[0|P*T.scaleX*y],re[de++]=le,le=V[0|P*R.scaleX*y],re[de++]=le;break;case 3:for(se=!0,this.adobe&&this.adobe.transformCode?se=!0:typeof this.opts.colorTransform<"u"&&(se=!!this.opts.colorTransform),T=this.components[0],R=this.components[1],S=this.components[2],H=0;H<U;H++)for(G=T.lines[0|H*T.scaleY*W],V=R.lines[0|H*R.scaleY*W],C=S.lines[0|H*S.scaleY*W],P=0;P<x;P++)se?(le=G[0|P*T.scaleX*y],te=V[0|P*R.scaleX*y],Fe=C[0|P*S.scaleX*y],M=m(le+1.402*(Fe-128)),ue=m(le-.3441363*(te-128)-.71413636*(Fe-128)),me=m(le+1.772*(te-128))):(M=G[0|P*T.scaleX*y],ue=V[0|P*R.scaleX*y],me=C[0|P*S.scaleX*y]),re[de++]=M,re[de++]=ue,re[de++]=me;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(se=!1,this.adobe&&this.adobe.transformCode?se=!0:typeof this.opts.colorTransform<"u"&&(se=!!this.opts.colorTransform),T=this.components[0],R=this.components[1],S=this.components[2],E=this.components[3],H=0;H<U;H++)for(G=T.lines[0|H*T.scaleY*W],V=R.lines[0|H*R.scaleY*W],C=S.lines[0|H*S.scaleY*W],z=E.lines[0|H*E.scaleY*W],P=0;P<x;P++)se?(le=G[0|P*T.scaleX*y],te=V[0|P*R.scaleX*y],Fe=C[0|P*S.scaleX*y],ie=z[0|P*E.scaleX*y],ee=255-m(le+1.402*(Fe-128)),J=255-m(le-.3441363*(te-128)-.71413636*(Fe-128)),g=255-m(le+1.772*(te-128))):(ee=G[0|P*T.scaleX*y],J=V[0|P*R.scaleX*y],g=C[0|P*S.scaleX*y],ie=z[0|P*E.scaleX*y]),re[de++]=255-ee,re[de++]=255-J,re[de++]=255-g,re[de++]=255-ie;break;default:throw new Error("Unsupported color mode")}return re},copyToImageData:function(x,U){var y=x.width,W=x.height,T=x.data,R=this.getData(y,W),S=0,E=0,G,V,C,z,P,H,de,le,te;switch(this.components.length){case 1:for(V=0;V<W;V++)for(G=0;G<y;G++)C=R[S++],T[E++]=C,T[E++]=C,T[E++]=C,U&&(T[E++]=255);break;case 3:for(V=0;V<W;V++)for(G=0;G<y;G++)de=R[S++],le=R[S++],te=R[S++],T[E++]=de,T[E++]=le,T[E++]=te,U&&(T[E++]=255);break;case 4:for(V=0;V<W;V++)for(G=0;G<y;G++)P=R[S++],H=R[S++],C=R[S++],z=R[S++],de=255-m(P*(1-z/255)+z),le=255-m(H*(1-z/255)+z),te=255-m(C*(1-z/255)+z),T[E++]=de,T[E++]=le,T[E++]=te,U&&(T[E++]=255);break;default:throw new Error("Unsupported color mode")}}};var F=0,b=0;function I(w=0){var x=F+w;if(x>b){var U=Math.ceil((x-b)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${U}MB`)}F=x}return u.resetMaxMemoryUsage=function(w){F=0,b=w},u.getBytesAllocated=function(){return F},u.requestMemoryAllocation=I,u}();typeof xn<"u"?xn.exports=zi:typeof window<"u"&&(window["jpeg-js"]=window["jpeg-js"]||{},window["jpeg-js"].decode=zi);function zi(t,e={}){var r={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},n={...r,...e},a=new Uint8Array(t),i=new mn;i.opts=n,mn.resetMaxMemoryUsage(n.maxMemoryUsageInMB*1024*1024),i.parse(a);var s=n.formatAsRGBA?4:3,l=i.width*i.height*s;try{mn.requestMemoryAllocation(l);var o={width:i.width,height:i.height,exifBuffer:i.exifBuffer,data:n.useTArray?new Uint8Array(l):Buffer.alloc(l)};i.comments.length>0&&(o.comments=i.comments)}catch(h){throw h instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+l):h instanceof ReferenceError&&h.message==="Buffer is not defined"?new Error("Buffer is not globally defined in this environment. Consider setting useTArray to true"):h}return i.copyToImageData(o,n.formatAsRGBA),o}});var ji=L((zu,Zi)=>{var rh=Xi(),nh=Ni();Zi.exports={encode:rh,decode:nh}});var hh={};ts(hh,{Bitmap:()=>ot,Context:()=>Rt,debug_list_of_fonts:()=>Yl,decodeJPEGFromStream:()=>fh,decodePNGFromStream:()=>oh,encodeJPEGToStream:()=>lh,encodePNGToStream:()=>sh,make:()=>ih,measureText:()=>nr,processTextPath:()=>rr,registerFont:()=>Ml});module.exports=rs(hh);var Pt=(f=>(f[f.transparent=0]="transparent",f[f.aliceblue=4042850303]="aliceblue",f[f.antiquewhite=4209760255]="antiquewhite",f[f.aqua=16777215]="aqua",f[f.aquamarine=2147472639]="aquamarine",f[f.azure=4043309055]="azure",f[f.beige=4126530815]="beige",f[f.bisque=4293182719]="bisque",f[f.black=255]="black",f[f.blanchedalmond=4293643775]="blanchedalmond",f[f.blue=65535]="blue",f[f.blueviolet=2318131967]="blueviolet",f[f.brown=2771004159]="brown",f[f.burlywood=3736635391]="burlywood",f[f.cadetblue=1604231423]="cadetblue",f[f.chartreuse=2147418367]="chartreuse",f[f.chocolate=3530104575]="chocolate",f[f.coral=4286533887]="coral",f[f.cornflowerblue=1687547391]="cornflowerblue",f[f.cornsilk=4294499583]="cornsilk",f[f.crimson=3692313855]="crimson",f[f.cyan=16777215]="cyan",f[f.darkblue=35839]="darkblue",f[f.darkcyan=9145343]="darkcyan",f[f.darkgoldenrod=3095792639]="darkgoldenrod",f[f.darkgray=2846468607]="darkgray",f[f.darkgreen=6553855]="darkgreen",f[f.darkgrey=2846468607]="darkgrey",f[f.darkkhaki=3182914559]="darkkhaki",f[f.darkmagenta=2332068863]="darkmagenta",f[f.darkolivegreen=1433087999]="darkolivegreen",f[f.darkorange=4287365375]="darkorange",f[f.darkorchid=2570243327]="darkorchid",f[f.darkred=2332033279]="darkred",f[f.darksalmon=3918953215]="darksalmon",f[f.darkseagreen=2411499519]="darkseagreen",f[f.darkslateblue=1211993087]="darkslateblue",f[f.darkslategray=793726975]="darkslategray",f[f.darkslategrey=793726975]="darkslategrey",f[f.darkturquoise=13554175]="darkturquoise",f[f.darkviolet=2483082239]="darkviolet",f[f.deeppink=4279538687]="deeppink",f[f.deepskyblue=12582911]="deepskyblue",f[f.dimgray=1768516095]="dimgray",f[f.dimgrey=1768516095]="dimgrey",f[f.dodgerblue=512819199]="dodgerblue",f[f.firebrick=2988581631]="firebrick",f[f.floralwhite=4294635775]="floralwhite",f[f.forestgreen=579543807]="forestgreen",f[f.fuchsia=4278255615]="fuchsia",f[f.gainsboro=3705462015]="gainsboro",f[f.ghostwhite=4177068031]="ghostwhite",f[f.gold=4292280575]="gold",f[f.goldenrod=3668254975]="goldenrod",f[f.gray=2155905279]="gray",f[f.green=8388863]="green",f[f.greenyellow=2919182335]="greenyellow",f[f.grey=2155905279]="grey",f[f.honeydew=4043305215]="honeydew",f[f.hotpink=4285117695]="hotpink",f[f.indianred=3445382399]="indianred",f[f.indigo=1258324735]="indigo",f[f.ivory=4294963455]="ivory",f[f.khaki=4041641215]="khaki",f[f.lavender=3873897215]="lavender",f[f.lavenderblush=4293981695]="lavenderblush",f[f.lawngreen=2096890111]="lawngreen",f[f.lemonchiffon=4294626815]="lemonchiffon",f[f.lightblue=2916673279]="lightblue",f[f.lightcoral=4034953471]="lightcoral",f[f.lightcyan=3774873599]="lightcyan",f[f.lightgoldenrodyellow=4210742015]="lightgoldenrodyellow",f[f.lightgray=3553874943]="lightgray",f[f.lightgreen=2431553791]="lightgreen",f[f.lightgrey=3553874943]="lightgrey",f[f.lightpink=4290167295]="lightpink",f[f.lightsalmon=4288707327]="lightsalmon",f[f.lightseagreen=548580095]="lightseagreen",f[f.lightskyblue=2278488831]="lightskyblue",f[f.lightslategray=2005441023]="lightslategray",f[f.lightslategrey=2005441023]="lightslategrey",f[f.lightsteelblue=2965692159]="lightsteelblue",f[f.lightyellow=4294959359]="lightyellow",f[f.lime=16711935]="lime",f[f.limegreen=852308735]="limegreen",f[f.linen=4210091775]="linen",f[f.magenta=4278255615]="magenta",f[f.maroon=2147483903]="maroon",f[f.mediumaquamarine=1724754687]="mediumaquamarine",f[f.mediumblue=52735]="mediumblue",f[f.mediumorchid=3126187007]="mediumorchid",f[f.mediumpurple=2473647103]="mediumpurple",f[f.mediumseagreen=1018393087]="mediumseagreen",f[f.mediumslateblue=2070474495]="mediumslateblue",f[f.mediumspringgreen=16423679]="mediumspringgreen",f[f.mediumturquoise=1221709055]="mediumturquoise",f[f.mediumvioletred=3340076543]="mediumvioletred",f[f.midnightblue=421097727]="midnightblue",f[f.mintcream=4127193855]="mintcream",f[f.mistyrose=4293190143]="mistyrose",f[f.moccasin=4293178879]="moccasin",f[f.navajowhite=4292783615]="navajowhite",f[f.navy=33023]="navy",f[f.oldlace=4260751103]="oldlace",f[f.olive=2155872511]="olive",f[f.olivedrab=1804477439]="olivedrab",f[f.orange=4289003775]="orange",f[f.orangered=4282712319]="orangered",f[f.orchid=3664828159]="orchid",f[f.palegoldenrod=4008225535]="palegoldenrod",f[f.palegreen=2566625535]="palegreen",f[f.paleturquoise=2951671551]="paleturquoise",f[f.palevioletred=3681588223]="palevioletred",f[f.papayawhip=4293907967]="papayawhip",f[f.peachpuff=4292524543]="peachpuff",f[f.peru=3448061951]="peru",f[f.pink=4290825215]="pink",f[f.plum=3718307327]="plum",f[f.powderblue=2967529215]="powderblue",f[f.purple=2147516671]="purple",f[f.rebeccapurple=1714657791]="rebeccapurple",f[f.red=4278190335]="red",f[f.rosybrown=3163525119]="rosybrown",f[f.royalblue=1097458175]="royalblue",f[f.saddlebrown=2336560127]="saddlebrown",f[f.salmon=4202722047]="salmon",f[f.sandybrown=4104413439]="sandybrown",f[f.seagreen=780883967]="seagreen",f[f.seashell=4294307583]="seashell",f[f.sienna=2689740287]="sienna",f[f.silver=3233857791]="silver",f[f.skyblue=2278484991]="skyblue",f[f.slateblue=1784335871]="slateblue",f[f.slategray=1887473919]="slategray",f[f.slategrey=1887473919]="slategrey",f[f.snow=4294638335]="snow",f[f.springgreen=16744447]="springgreen",f[f.steelblue=1182971135]="steelblue",f[f.tan=3535047935]="tan",f[f.teal=8421631]="teal",f[f.thistle=3636451583]="thistle",f[f.tomato=4284696575]="tomato",f[f.turquoise=1088475391]="turquoise",f[f.violet=4001558271]="violet",f[f.wheat=4125012991]="wheat",f[f.white=4294967295]="white",f[f.whitesmoke=4126537215]="whitesmoke",f[f.yellow=4294902015]="yellow",f[f.yellowgreen=2597139199]="yellowgreen",f))(Pt||{});var Ze=function(t,e,r,n){return(t<<24|e<<16|r<<8|n)>>>0},zt=function(t,e){return t>>>8*(3-e)&255},je=function(t){return[zt(t,0),zt(t,1),zt(t,2),zt(t,3)]};var Bt=function(t){return t>>>0};var Qe=function(t,...e){let r=t;for(let n=0;n<e.length;n+=1)r=r|e[n];return r>>>0},St=function(t,...e){let r=t;for(let n=0;n<e.length;n+=1)r=r&e[n];return r>>>0};var Nt=function(t,e){return t<<e>>>0};function Et(t,e,r){return t<e?e:t>r?r:t}var En=function(t,e,r){return t+(e-t)*r};function Ct(t){if(!t)return 0;if(t.indexOf("#")===0){if(t.length===4){let e=parseInt(t[1],16),r=e<<4|e,n=parseInt(t[2],16),a=n<<4|n,i=parseInt(t[3],16),s=i<<4|i,l=Bt(r<<16|a<<8|s);return l=Nt(l,8),Qe(l,255)}else if(t.length===5){let e=parseInt(t[1],16),r=e<<4|e,n=parseInt(t[2],16),a=n<<4|n,i=parseInt(t[3],16),s=i<<4|i,l=parseInt(t[4],16),o=l<<4|l,h=Bt(r<<16|a<<8|s);return h=Nt(h,8),Qe(h,o)}else if(t.length===7){let e=Bt(parseInt(t.substring(1),16));return e=Nt(e,8),Qe(e,255)}else if(t.length===9)return Bt(parseInt(t.substring(1),16))}if(t.indexOf("rgba")===0){let e=t.trim().substring(4).replace("(","").replace(")","").split(",");return Ze(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),Math.floor(parseFloat(e[3])*255))}if(t.indexOf("rgb")===0){let e=t.trim().substring(3).replace("(","").replace(")","").split(",");return Ze(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),255)}if(Ke.call(Pt,t))return Pt[t];throw new Error("unknown style format: "+t)}var Ke=Object.hasOwnProperty;function Cn(t,e=Uint8Array){let r=t.reduce((i,s)=>i+s.length,0);if(!t.length)return null;let n=new e(r),a=0;for(let i of t)n.set(i,a),a+=i.length;return n}var ut=class{constructor(...e){if(e.length===4){this.start={},this.end={},[this.start.x,this.start.y,this.end.x,this.end.y]=e;for(let r in e)if(Ke.call(e,r)&&typeof e[r]!="number")throw TypeError("When passing 4 arguments, only numbers may be passed")}else if(e.length===2)[this.start,this.end]=e;else throw Error("Please pass either two Point objects, or 4 integers to the constructor")}getLength(){return Math.sqrt(Math.pow(this.start.x-this.end.x,2)+Math.pow(this.start.y-this.end.y,2))}is_invalid(){return!!(Number.isNaN(this.start.x)||Number.isNaN(this.end.x)||Number.isNaN(this.start.y)||Number.isNaN(this.end.y)||this.start.x>Number.MAX_SAFE_INTEGER||this.start.y>Number.MAX_SAFE_INTEGER||this.end.x>Number.MAX_SAFE_INTEGER||this.end.y>Number.MAX_SAFE_INTEGER)}};var pe=class t{constructor(e,r){this.x=e;this.y=r}clone(){return new t(this.x,this.y)}distance(e){return Math.sqrt(Math.pow(e.x-this.x,2)+Math.pow(e.y-this.y,2))}add(e){return new t(this.x+e.x,this.y+e.y)}subtract(e){return new t(this.x-e.x,this.y-e.y)}magnitude(){return Math.sqrt(this.dotProduct(this))}dotProduct(e){return this.x*e.x+this.y*e.y}divide(e){return new t(this.x/e,this.y/e)}floor(){return new t(Math.floor(this.x),Math.floor(this.y))}round(){return new t(Math.round(this.x),Math.round(this.y))}unit(){return this.divide(this.magnitude())}rotate(e){return new t(Math.cos(e)*this.x-Math.sin(e)*this.y,Math.sin(e)*this.x+Math.cos(e)*this.y)}scale(e){return new t(this.x*e,this.y*e)}equals(e){return this.x===e.x&&this.y===e.y}},pr=t=>Math.PI/180*t;function An(t){let e=Number.POSITIVE_INFINITY,r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,a=Number.NEGATIVE_INFINITY;return t.forEach(i=>{e=Math.min(e,i.x),r=Math.min(r,i.y),n=Math.max(n,i.x),a=Math.max(a,i.y)}),new ct(e,r,n,a)}var ct=class t{constructor(e,r,n,a){this.x1=e;this.y1=r;this.x2=n;this.y2=a}contains(e){return!(e.x<this.x1||e.x>=this.x2||e.y<this.y1||e.y>=this.y2)}intersect(e){let r=Math.max(this.x1,e.x1),n=Math.max(this.y1,e.y1),a=Math.min(this.x2,e.x2),i=Math.min(this.y2,e.y2);return new t(r,n,a,i)}};var tr=cr(Ya(),1),st={},$r=class{constructor(e,r,n,a,i){this.binary=e,this.family=r,this.weight=n,this.style=a,this.variant=i,this.loaded=!1,this.font=null}_load(e){if(this.loaded){e&&e();return}let r=function(n,a){if(n)throw new Error("Could not load font: "+n);this.loaded=!0,this.font=a,e&&e()}.bind(this);tr.load(this.binary,r)}loadSync(){if(this.loaded)return this;try{return this.font=tr.loadSync(this.binary),this.loaded=!0,this}catch(e){throw new Error("Could not load font: "+e)}}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this._load(()=>e())})}};function Ml(t,e,r,n,a){return st[e]=new $r(t,e,r,n,a),st[e]}var Yl=st;function Wa(t){return st[t]||(t=Object.keys(st)[0]),st[t]}function rr(t,e,r,n,a,i,s){let l=Wa(t._font.family);if(!l){console.warn("Font missing",t._font);return}let o=nr(t,e);(i==="end"||i==="right")&&(r=r-o.width),i==="center"&&(r=r-o.width/2),s==="top"&&(n=n+o.emHeightAscent),s==="middle"&&(n=n+o.emHeightAscent/2+o.emHeightDescent/2),s==="bottom"&&(n=n+o.emHeightDescent);let h=t._font.size;if(!l.loaded){console.warn("font not loaded yet",t._font);return}let u=l.font.getPath(e,r,n,h);t.beginPath(),u.commands.forEach(function(c){switch(c.type){case"M":t.moveTo(c.x,c.y);break;case"Q":t.quadraticCurveTo(c.x1,c.y1,c.x,c.y);break;case"L":t.lineTo(c.x,c.y);break;case"C":t.bezierCurveTo(c.x1,c.y1,c.x2,c.y2,c.x,c.y);break;case"Z":{t.closePath(),a?t.fill():t.stroke(),t.beginPath();break}}})}function nr(t,e){let r=Wa(t._font.family);if(!r)return console.warn("WARNING. Can't find font family ",t._font),{width:10,emHeightAscent:8,emHeightDescent:2};if(!r.font)return console.warn("WARNING. Can't find font family ",t._font),{width:10,emHeightAscent:8,emHeightDescent:2};let n=t._font.size,a=r.font.stringToGlyphs(e),i=0;return a.forEach(function(s){i+=s.advanceWidth}),{width:i/r.font.unitsPerEm*n,emHeightAscent:r.font.ascender/r.font.unitsPerEm*n,emHeightDescent:r.font.descender/r.font.unitsPerEm*n}}var Je=class{constructor(){this.stops=[]}addColorStop(e,r){let n=Ct(""+r);this.stops.push({t:e,color:n})}_lerpStops(e){e<0&&(e+=1),e>1&&(e-=1);let r=this.stops.slice().reverse().find(u=>u.t<=e),n=this.stops.find(u=>u.t>e);n||(n=this.stops.at(-1));let a=Va(e,r.t,n.t,0,1),i=u=>je(u).map(c=>c/255),s=i(r.color),l=i(n.color),o=s.map((u,c)=>En(u,l[c],a));return(u=>{let c=u.map(p=>p*255);return Ze(c[0],c[1],c[2],255)})(o)}},ar=class extends Je{constructor(r,n,a,i){super();this.start=new pe(r,n),this.end=new pe(a,i)}colorAt(r,n){let a=new pe(r,n),i=this.end.subtract(this.start),s=i.magnitude();i=i.divide(s);let o=a.subtract(this.start).dotProduct(i);return o=Et(o/s,0,1),this._lerpStops(o)}},ir=class extends Je{constructor(r,n,a,i){super();this.start=new pe(r,n)}colorAt(r,n){let i=new pe(r,n).distance(this.start),s=Et(i/10,0,1);return this._lerpStops(s)}};function Va(t,e,r,n,a){return(t-e)/(r-e)*(a-n)+n}var sr=class extends Je{constructor(r,n,a){super();this.angle=r,this.start=new pe(n,a)}colorAt(r,n){let a=this.start.subtract(new pe(r,n)),i=Math.atan2(a.y,a.x)-this.angle,s=Va(i,-Math.PI,Math.PI,0,1);return this._lerpStops(s)}};var La=[1,0,0,1,0,0],or=class t{constructor(e){this.context=e,this.matrix=[1,0,0,1,0,0],this.stack=[]}getMatrix(){return this.matrix}setMatrix(e){this.matrix=[e[0],e[1],e[2],e[3],e[4],e[5]],this.setTransform()}cloneMatrix(e){return[e[0],e[1],e[2],e[3],e[4],e[5]]}cloneTransform(){let e=new t;return e.setMatrix(this.getMatrix()),e}identity(){this.matrix=La,this.setTransform()}isIdentity(){for(let e=0;e<this.matrix.length;e++)if(this.matrix[e]!==La[e])return!1;return!0}fromDomMatrix(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}asDomMatrix(){return{is2D:!0,isIdentity:!1,a:this.matrix[0],b:this.matrix[1],c:this.matrix[2],d:this.matrix[3],e:this.matrix[4]}}multiply(e){let r=this.matrix[0]*e[0]+this.matrix[2]*e[1],n=this.matrix[1]*e[0]+this.matrix[3]*e[1],a=this.matrix[0]*e[2]+this.matrix[2]*e[3],i=this.matrix[1]*e[2]+this.matrix[3]*e[3],s=this.matrix[0]*e[4]+this.matrix[2]*e[5]+this.matrix[4],l=this.matrix[1]*e[4]+this.matrix[3]*e[5]+this.matrix[5];this.matrix[0]=r,this.matrix[1]=n,this.matrix[2]=a,this.matrix[3]=i,this.matrix[4]=s,this.matrix[5]=l,this.setTransform()}invert(){let e=1/(this.matrix[0]*this.matrix[3]-this.matrix[1]*this.matrix[2]),r=this.matrix[3]*e,n=-this.matrix[1]*e,a=-this.matrix[2]*e,i=this.matrix[0]*e,s=e*(this.matrix[2]*this.matrix[5]-this.matrix[3]*this.matrix[4]),l=e*(this.matrix[1]*this.matrix[4]-this.matrix[0]*this.matrix[5]);this.matrix[0]=r,this.matrix[1]=n,this.matrix[2]=a,this.matrix[3]=i,this.matrix[4]=s,this.matrix[5]=l,this.setTransform()}save(){let e=this.cloneMatrix(this.getMatrix());this.stack.push(e),this.context&&this.context.save()}restore(){if(this.stack.length>0){let e=this.stack.pop();this.setMatrix(e)}this.context&&this.context.restore()}setTransform(){this.context}translate(e,r){this.matrix[4]+=this.matrix[0]*e+this.matrix[2]*r,this.matrix[5]+=this.matrix[1]*e+this.matrix[3]*r,this.setTransform()}rotate(e){let r=Math.cos(e),n=Math.sin(e),a=this.matrix[0]*r+this.matrix[2]*n,i=this.matrix[1]*r+this.matrix[3]*n,s=this.matrix[0]*-n+this.matrix[2]*r,l=this.matrix[1]*-n+this.matrix[3]*r;this.matrix[0]=a,this.matrix[1]=i,this.matrix[2]=s,this.matrix[3]=l,this.setTransform()}scale(e,r){this.matrix[0]*=e,this.matrix[1]*=e,this.matrix[2]*=r,this.matrix[3]*=r,this.setTransform()}transformPoint(e){let r=e.x,n=e.y;return new pe(r*this.matrix[0]+n*this.matrix[2]+this.matrix[4],r*this.matrix[1]+n*this.matrix[3]+this.matrix[5])}};var Rt=class{constructor(e){this._bitmap=e,this._fillColor=255,this._strokeColor=255,this._lineWidth=1,this._globalAlpha=1,this._transform=new or,this._font={family:"invalid",size:12},this.textAlign="start",this.textBaseline="alphabetic",this.imageSmoothingEnabled=!0,this._clip=null,this._fillStyle_text="",this._strokeStyle_text="",this.states=[]}get canvas(){return this._bitmap}get lineWidth(){return this._lineWidth}set lineWidth(e){this._lineWidth=e}get globalAlpha(){return this._globalAlpha}set globalAlpha(e){this._globalAlpha=Et(e,0,1)}get font(){return`${this._font.size} ${this._font.family}`}set font(e){let r=e.trim().indexOf(" ");this._font.size=parseInt(e.slice(0,r)),this._font.family=e.slice(r).trim()}get fillStyle(){return this._fillStyle_text}set fillStyle(e){e instanceof Je?this._fillColor=e:(this._fillColor=Ct(e),this._fillStyle_text=e)}get strokeStyle(){return this._strokeStyle_text}set strokeStyle(e){e instanceof Je?this._strokeStyle_text=e.toString():(this._strokeColor=Ct(e),this._strokeStyle_text=e)}createLinearGradient(e,r,n,a){return new ar(e,r,n,a)}createRadialGradient(e,r){return new ir(e,r)}createConicGradient(e,r,n){return new sr(e,r,n)}save(){this.states.push({_clip:this._clip}),this._transform.save()}translate(e,r){this._transform.translate(e,r)}rotate(e){this._transform.rotate(e)}scale(e,r){this._transform.scale(e,r)}transform(...e){let r=[...e];this._transform.multiply(r)}setTransform(...e){if(this._transform.identity(),e[0].is2D){let r=this._transform.fromDomMatrix(e[0]);this._transform.multiply(r)}else this._transform.multiply([...e])}getTransform(){return this._transform.asDomMatrix()}restore(){this._transform.restore();let e=this.states.pop();e&&(this._clip=e._clip)}fillRect(e,r,n,a){if(this._transform.isIdentity()){if(typeof this._fillColor=="number"&&je(this._fillColor)[3]===255){for(let s=e;s<e+n;s++)for(let l=r;l<r+a;l++)this.pixelInsideClip(s,l)&&this._bitmap._isValidCoords(s,l)&&this._bitmap.setPixelRGBA(s,l,this._fillColor);return}for(let i=e;i<e+n;i++)for(let s=r;s<r+a;s++)this.fillPixelWithColor(i,s,this.calculateRGBA(i,s))}else{let i=this.path,s=this._closed;this.beginPath(),this.rect(e-1e-4,r-1e-4,n,a),this.closePath(),this.fill(),this.path=i,this._closed=s}}clearRect(e,r,n,a){for(let i=e;i<e+n;i++)for(let s=r;s<r+a;s++)this._bitmap._isValidCoords(e,r)&&this._bitmap.setPixelRGBA(i,s,0)}strokeRect(e,r,n,a){for(let i=e;i<e+n;i++)this.fillPixelWithColor(i,r,this.calculateRGBA_stroke(i,r)),this.fillPixelWithColor(i,r+a,this.calculateRGBA_stroke(i,r+a));for(let i=r;i<r+a;i++)this.fillPixelWithColor(e,i,this.calculateRGBA_stroke(e,i)),this.fillPixelWithColor(e+n,i,this.calculateRGBA_stroke(e+n,i))}strokePixel(e,r){if(!this.pixelInsideClip(e,r))return;let n=this.calculateRGBA_stroke(e,r),a=this._bitmap.getPixelRGBA(e,r),i=this.composite(a,n);this._bitmap.setPixelRGBA(e,r,i)}fillPixelWithColor(e,r,n){if(!this.pixelInsideClip(e,r)||!this._bitmap._isValidCoords(e,r))return;let a=n,i=this._bitmap.getPixelRGBA(e,r),s=this.composite(i,a);this._bitmap.setPixelRGBA(e,r,s)}composite(e,r){let n=je(e),a=je(r),i=a.map(u=>u/255),s=n.map(u=>u/255);i[3]=i[3]*this._globalAlpha;function l(u,c,p,d){return(u*p+c*d*(1-p))/(p+d*(1-p))}let h=i.slice(0,3).map((u,c)=>l(i[c],s[c],i[3],s[3])).map(u=>u*255);return Ze(h[0],h[1],h[2],Math.max(n[3],a[3]))}calculateRGBA(e,r){return this._fillColor instanceof Je?this._fillColor.colorAt(e,r):this._fillColor}calculateRGBA_stroke(e,r){return this._strokeColor instanceof Je?this._strokeColor.colorAt(e,r):this._strokeColor}getImageData(e,r,n,a){return this._bitmap._copySubBitmap(e,r,n,a)}putImageData(e,r,n){this._bitmap._pasteSubBitmap(e,r,n)}drawImage(e,r,n,a,i,s,l,o,h){if(typeof a>"u")return this.drawImage(e,0,0,e.width,e.height,r,n,e.width,e.height);if(typeof s>"u")return this.drawImage(e,0,0,e.width,e.height,r,n,a,i);let u=new ct(r,n,r+a,n+i),c=[new pe(s,l),new pe(s+o,l),new pe(s+o,l+h),new pe(s,l+h)];c=c.map(b=>this._transform.transformPoint(b));let p=An(c),d=new ct(0,0,this._bitmap.width,this._bitmap.height);p=p.intersect(d);let m=this._transform.cloneTransform();m.invert();function F(b,I,w,x,U){return(b-I)/(w-I)*(U-x)+x}for(let b=p.x1;b<p.x2;b++)for(let I=p.y1;I<p.y2;I++){let w=new pe(b,I),x=m.transformPoint(w).round();if(x=new pe(F(x.x,s,s+o,r,r+a),F(x.y,l,l+h,n,n+i)),u.contains(x)&&this.pixelInsideClip(w.x,w.y)&&this._bitmap._isValidCoords(w.x,w.y)){let U=e.getPixelRGBA(x.x,x.y),y=this._bitmap.getPixelRGBA(w.x,w.y),W=this.composite(y,U);this._bitmap.setPixelRGBA(w.x,w.y,W)}}}beginPath(){this.path=[],this._closed=!1}moveTo(e,r){return this._moveTo(new pe(e,r))}_moveTo(e){e=this._transform.transformPoint(e),this.pathstart=e,this.path.push(["m",e])}lineTo(e,r){return this._lineTo(new pe(e,r))}_lineTo(e){this.path.push(["l",this._transform.transformPoint(e)])}quadraticCurveTo(e,r,n,a){let i=this._transform.transformPoint(new pe(e,r)),s=this._transform.transformPoint(new pe(n,a));this.path.push(["q",i,s])}bezierCurveTo(e,r,n,a,i,s){this._bezierCurveTo(new pe(e,r),new pe(n,a),new pe(i,s))}_bezierCurveTo(e,r,n){e=this._transform.transformPoint(e),r=this._transform.transformPoint(r),n=this._transform.transformPoint(n),this.path.push(["b",e,r,n])}arc(e,r,n,a,i,s){function l(h){let u=e+Math.cos(h)*n,c=r+Math.sin(h)*n;return new pe(u,c)}a>i&&(i+=Math.PI*2);let o=Math.PI/16;if(s){let h=i;i=a+Math.PI*2,a=h}this._moveTo(l(a));for(let h=a;h<=i;h+=o)this._lineTo(l(h));this._lineTo(l(i))}arcTo(){throw new Error("arcTo not yet supported")}rect(e,r,n,a){this.moveTo(e,r),this.lineTo(e+n,r),this.lineTo(e+n,r+a),this.lineTo(e,r+a),this.lineTo(e,r)}roundRect(e,r,n,a,i){let s={bl:0,br:0,tr:0,tl:0};typeof i>"u"&&(s={bl:0,br:0,tr:0,tl:0}),typeof i=="number"&&(s={tl:i,tr:i,br:i,bl:i}),Array.isArray(i)&&(i.length===0&&(s={bl:0,br:0,tr:0,tl:0}),i.length===1&&(s={tl:i[0],tr:i[0],br:i[0],bl:i[0]}),i.length===2&&(s={tl:i[0],tr:i[1],br:i[0],bl:i[1]}),i.length===3&&(s={tl:i[0],tr:i[1],br:i[2],bl:i[1]}),i.length===4&&(s={tl:i[0],tr:i[1],br:i[2],bl:i[3]})),this.moveTo(e+s.tl,r),this.lineTo(e+n-s.tr,r),this.quadraticCurveTo(e+n,r,e+n,r+s.tr),this.lineTo(e+n,r+a-s.br),this.quadraticCurveTo(e+n,r+a,e+n-s.br,r+a),this.lineTo(e+s.bl,r+a),this.quadraticCurveTo(e,r+a,e,r+a-s.bl),this.lineTo(e,r+s.tl),this.quadraticCurveTo(e,r,e+s.tl,r),this.lineTo(e+s.tl,r)}ellipse(){throw new Error("ellipse not yet supported")}clip(){this._clip=vt(this.path)}measureText(e){return nr(this,e)}closePath(){if(!this._closed){if(!this.pathstart){console.warn("missing path start");let e=this.path[0];e[0]==="l"&&(this.pathstart=e[1])}this.path.push(["l",this.pathstart]),this._closed=!0}}stroke(){let e=Xl(this.path),r=zl(e,this.lineWidth/2),n=vt(r),a=this.fillStyle;if(this.fillStyle=this.strokeStyle,this.imageSmoothingEnabled?this.fill_aa(n):this.fill_noaa(n),this.fillStyle=a,this.debug){this.save();let i=this.strokeStyle,s=this.lineWidth;this.strokeStyle="red",this.lineWidth=1,console.log("path is",this.path),vt(this.path).forEach(l=>this.drawLine(l)),console.log("flat path is",e),vt(e).forEach(l=>this.drawLine(l)),console.log("stroke path is",r),vt(r).forEach(l=>this.drawLine(l)),console.log("final lines are",n),this.strokeStyle=i,this.lineWidth=s,this.restore()}}drawLine(e){if(e.is_invalid())return console.error("cannot draw line",e);this.imageSmoothingEnabled?this.drawLine_aa(e):this.drawLine_noaa(e)}drawLine_noaa(e){let r=Math.floor(e.start.x),n=Math.floor(e.start.y),a=Math.floor(e.end.x),i=Math.floor(e.end.y),s=Math.abs(a-r),l=r<a?1:-1,o=Math.abs(i-n),h=n<i?1:-1,u=(s>o?s:-o)/2;for(;this.strokePixel(r,n),!(r===a&&n===i);){let c=u;c>-s&&(u-=o,r+=l),c<o&&(u+=s,n+=h)}}drawLine_aa(e){let r=this._lineWidth,n=Math.floor(e.start.x),a=Math.floor(e.start.y),i=Math.floor(e.end.x),s=Math.floor(e.end.y),l=Math.abs(i-n),o=n<i?1:-1,h=Math.abs(s-a),u=a<s?1:-1,c=l-h,p,d,m,F=l+h===0?1:Math.sqrt(l*l+h*h),b=St(this.calculateRGBA_stroke(n,a),4294967040),I=St(this.calculateRGBA_stroke(n,a),255);for(r=(r+1)/2;;){let x=255-~~Math.max(0,255*(Math.abs(c-l+h)/F-r+1)),U=Qe(b,I*x/255);if(this.fillPixelWithColor(n,a,U),p=c,d=n,2*p>=-l){for(p+=h,m=a;p<F*r&&(s!==m||l>h);p+=l){let W=255-~~Math.max(0,255*(Math.abs(p)/F-r+1)),T=Qe(b,I*W/255);this.fillPixelWithColor(n,m+=u,T)}if(n===i)break;p=c,c-=h,n+=o}if(2*p<=h){for(p=l-p;p<F*r&&(i!==d||l<h);p+=h){let W=255-~~Math.max(0,255*(Math.abs(p)/F-r+1)),T=Qe(b,I*W/255);this.fillPixelWithColor(d+=o,a,T)}if(a===s)break;c+=l,a+=u}}}fill(){this._closed||this.closePath();let e=vt(this.path);this.imageSmoothingEnabled?this.fill_aa(e):this.fill_noaa(e)}fill_aa(e){let r=za(e),n=Math.min(r.y2+1,this._bitmap.height),a=Math.max(r.y-1,0);for(let i=n;i>=a;i--){let s=Dr(e,i);for(let l=0;l<s.length;l+=2){let o=Xa(s[l]),h=Xa(s[l+1]),u=Math.floor(s[l]),c=Math.floor(s[l+1]);for(let p=u;p<=c;p++){let d=St(this.calculateRGBA(p,i),4294967040),m=St(this.calculateRGBA(p,i),255),F=this.calculateRGBA(p,i);if(p===u){let b=Qe(d,(1-o)*m);this.fillPixelWithColor(p,i,b);continue}if(p===c){let b=Qe(d,h*m);this.fillPixelWithColor(p,i,b);continue}this.fillPixelWithColor(p,i,F)}}}}fill_noaa(e){let r=za(e),n=Math.min(r.y2+1,this._bitmap.height),a=Math.max(r.y-1,0);for(let i=n;i>=a;i--){let s=Dr(e,i);for(let l=0;l<s.length;l+=2){let o=Math.floor(s[l]),h=Math.floor(s[l+1]);for(let u=o;u<=h;u++){let c=this.calculateRGBA(u,i);if(u===o){this.fillPixelWithColor(u,i,c);continue}if(u===h){this.fillPixelWithColor(u,i,c);continue}this.fillPixelWithColor(u,i,c)}}}}pixelInsideClip(e,r){return this._clip?Dr(this._clip,r).filter(i=>i<e).length%2!==0:!0}fillText(e,r,n){rr(this,e,r,n,!0,this.textAlign,this.textBaseline)}strokeText(e,r,n){rr(this,e,r,n,!1,this.textAlign,this.textBaseline)}};function Xa(t){return t-Math.floor(t)}function vt(t){let e=[],r=null;return t.forEach(function(n){if(n[0]==="m"&&(r=n[1]),n[0]==="l"){let a=n[1];e.push(new ut(r,a)),r=a}if(n[0]==="q"){let a=[r,n[1],n[2]];for(let i=0;i<1;i+=.1){let s=Zl(a,i);e.push(new ut(r,s)),r=s}}if(n[0]==="b"){let a=[r,n[1],n[2],n[3]];Na(a,10).forEach(i=>{e.push(new ut(r,i)),r=i})}}),e}function Xl(t){let e=[],r=null;return t.forEach(n=>{if(n[0]==="m"){r=n[1],e.push(["m",new pe(r.x,r.y)]);return}if(n[0]==="l"){r=n[1],e.push(["l",new pe(r.x,r.y)]);return}if(n[0]==="b"){let a=[r,n[1],n[2],n[3]],i=Na(a,10);for(let s=1;s<i.length;s+=2)e.push(["l",new pe(i[s].x,i[s].y)]);r=n[3]}}),e}function zl(t,e){let r=[],n=[];t.forEach(s=>{s[0]==="m"&&(n.length>0&&r.push(n),n=[]),n.push(s)}),n.length>0&&r.push(n),r.forEach(s=>{s[0][0]!=="m"&&console.warn("missing a starting move command!")});let a=r.map(s=>Nl(s,e)),i=[];return a.forEach(s=>s.forEach(l=>i.push(l))),i}function Nl(t,e){let r=null,n=[],a=[],i=null;function s(u,c,p){u.equals(c)&&console.log("same points!",u,c);let d=u.subtract(c).unit(),m=d.rotate(pr(90)),F=d.rotate(pr(-90));return[m.scale(p).add(c),F.scale(p).add(c)]}let l=null;function o(u){return u<-Math.PI?u+Math.PI*2:u>+Math.PI?u-Math.PI*2:u}t.forEach(function(u,c){if(u[0]==="m"&&(r=u[1],l=u,i=r.clone(),n.push(["m",i.clone()])),u[0]==="l"){let p=r,d=u[1];if(p.equals(d))return console.warn("can't project the same paths",c,u,p,d);let m=t[c+1];if(l[0]==="m"){let T=s(d,p,e);n.push(["l",T[1]]),a.push(["l",T[0]])}if(l=u,!m){let T=s(p,d,e);n.push(["l",T[0]]),a.push(["l",T[1]]);return}let F=m[1];if(F.equals(d))return console.warn("can't project the same paths",c,u,p,d);let b=p.subtract(d),I=F.subtract(d),w=Math.atan2(b.y,b.x),x=Math.atan2(I.y,I.x),U=o(x-w),y=s(p,d,e),W=s(F,d,e);if(U<0){n.push(["l",y[0]]),n.push(["l",W[1]]);let T=e/Math.cos((Math.PI+U)/2),R=p.subtract(d).unit().rotate(U/2).scale(T).add(d);a.push(["l",R])}else{let T=e/Math.cos(-(Math.PI-U)/2);T>10&&(T=10);let R=F.subtract(d).unit().rotate(-U/2).scale(T).add(d);n.push(["l",R]),a.push(["l",y[1]]),a.push(["l",W[0]])}r=d}}),a.reverse();let h=[].concat(n).concat(a);return h.push(["l",i]),h}function Zl(t,e){let r=(1-e)*(1-e)*t[0].x+2*(1-e)*e*t[1].x+e*e*t[2].x,n=(1-e)*(1-e)*t[0].y+2*(1-e)*e*t[1].y+e*e*t[2].y;return new pe(r,n)}function Na(t,e){function r(n){if(Ql(n)<e)return[n[0],n[3]];let a=jl(n,.5);return r(a[0]).concat(r(a[1]))}return r(t)}function jl(t,e){let r=t[0],n=t[1],a=t[2],i=t[3],s=Ht(r,n,e),l=Ht(n,a,e),o=Ht(i,a,e),h=Ht(s,l,e),u=Ht(l,o,e),c={x:(u.x-h.x)*e+h.x,y:(u.y-h.y)*e+h.y};return[[r,s,h,c],[c,u,o,i]]}function Ql(t){let e=t[0],r=t[1],n=t[2],a=t[3],i=Math.pow(3*r.x-2*e.x-a.x,2),s=Math.pow(3*r.y-2*e.y-a.y,2),l=Math.pow(3*n.x-2*a.x-e.x,2),o=Math.pow(3*n.y-2*a.y-e.y,2);return i<l&&(i=l),s<o&&(s=o),i+s}function Ht(t,e,r){return{x:(e.x-t.x)*r+t.x,y:(e.y-t.y)*r+t.y}}function za(t){let e={x:Number.MAX_VALUE,y:Number.MAX_VALUE,x2:Number.MIN_VALUE,y2:Number.MIN_VALUE};function r(n){e.x=Math.min(e.x,n.x),e.y=Math.min(e.y,n.y),e.x2=Math.max(e.x2,n.x),e.y2=Math.max(e.y2,n.y)}return t.forEach(function(n){r(n.start),r(n.end)}),e}function Dr(t,e){let r=[];for(let n=0;n<t.length;n++){let a=t[n].start,i=t[n].end;if(a.y<e&&i.y>=e||i.y<e&&a.y>=e){let s=a.x+(e-a.y)/(i.y-a.y)*(i.x-a.x);r.push(s)}}return r.sort(function(n,a){return n-a})}var ot=class t{constructor(e,r){this.width=Math.floor(e),this.height=Math.floor(r),this.data=new Uint8Array(e*r*4);let n=255;for(let a=0;a<r;a++)for(let i=0;i<e;i++)this.setPixelRGBA(i,a,n);this._context=new Rt(this)}calculateIndex(e,r){return e=Math.floor(e),r=Math.floor(r),e<0||r<0||e>=this.width||r>=this.height?0:(this.width*r+e)*4}setPixelRGBA(e,r,n){this.validate_coords(e,r);let a=this.calculateIndex(e,r),i=je(n);this.data[a+0]=i[0],this.data[a+1]=i[1],this.data[a+2]=i[2],this.data[a+3]=i[3]}setPixelRGBA_i(e,r,n,a,i,s){let l=this.calculateIndex(e,r);this.data[l+0]=n,this.data[l+1]=a,this.data[l+2]=i,this.data[l+3]=s}getPixelRGBA(e,r){this.validate_coords(e,r);let n=this.calculateIndex(e,r);return Ze(this.data[n+0],this.data[n+1],this.data[n+2],this.data[n+3])}getDebugPixelRGBA(e,r){let n=this.calculateIndex(e,r),a=this.width,i=this.height,s=this.data;return console.dir({i:n,width:a,height:i,data:s}),Ze(this.data[n+0],this.data[n+1],this.data[n+2],this.data[n+3])}getPixelRGBA_separate(e,r){let n=this.calculateIndex(e,r);return this.data.slice(n,n+4)}getContext(e){return e==="2d"?this._context:null}_copySubBitmap(e,r,n,a){let i=new t(n,a);for(let s=0;s<n;s++)for(let l=0;l<a;l++){let o=this.calculateIndex(e+s,r+l),h=i.calculateIndex(s,l);for(let u=0;u<4;u++)i.data[h+u]=this.data[o+u]}return i}_pasteSubBitmap(e,r,n){for(let a=0;a<e.width;a++)for(let i=0;i<e.height;i++){let s=this.calculateIndex(r+a,n+i),l=e.calculateIndex(a,i);for(let o=0;o<4;o++)this.data[s+o]=e.data[l+o]}}_isValidCoords(e,r){return!(e<0||r<0||e>=this.width||r>=this.height)}validate_coords(e,r){if(e<0)throw new Error(`Invalid Index: x ${e} <0`);if(r<0)throw new Error(`Invalid Index: y ${r} <0`);if(e>=this.width)throw new Error(`Invalid Index: x ${e} >= width ${this.width}`);if(r>=this.height)throw new Error(`Invalid Index: y ${r} >= height ${this.height}`)}};var ah=cr(Wi(),1),fr=cr(ji(),1);var{PNG:Qi}=ah;function ih(t,e){return new ot(t,e)}function sh(t,e,r={}){return new Promise((n,a)=>{if(!Ke.call(t,"data")||!Ke.call(t,"width")||!Ke.call(t,"height"))return a(new TypeError("Invalid bitmap image provided"));let i=new Qi({width:t.width,height:t.height,deflateLevel:r.deflateLevel||9,deflateStrategy:r.deflateStrategy||3});for(let s=0;s<t.width;s++)for(let l=0;l<t.height;l++){let o=t.getPixelRGBA(s,l),h=(l*t.width+s)*4,u=je(o);for(let c=0;c<4;c++)i.data[h+c]=u[c]}i.on("error",s=>{a(s)}).pack().pipe(e).on("finish",()=>{n()}).on("error",s=>{a(s)})})}function oh(t){return new Promise((e,r)=>{t.pipe(new Qi).on("parsed",function(){let n=new ot(this.width,this.height);for(let a=0;a<n.data.length;a++)n.data[a]=this.data[a];e(n)}).on("error",function(n){r(n)})})}function lh(t,e,r=90){return new Promise((n,a)=>{if(!Ke.call(t,"data")||!Ke.call(t,"width")||!Ke.call(t,"height"))return a(new TypeError("Invalid bitmap image provided"));let i={data:t.data,width:t.width,height:t.height};e.on("error",s=>a(s)),e.write(fr.encode(i,r).data,()=>{e.end(),n()})})}function fh(t,e){return new Promise((r,n)=>{try{let a=[];t.on("data",i=>a.push(i)),t.on("end",()=>{let i=Cn(a),s=null;try{s=fr.decode(i,e)}catch(o){n(o);return}let l=new ot(s.width,s.height);for(let o=0;o<s.width;o++)for(let h=0;h<s.height;h++){let u=(h*s.width+o)*4;l.setPixelRGBA_i(o,h,s.data[u+0],s.data[u+1],s.data[u+2],s.data[u+3])}r(l)}),t.on("error",i=>{n(i)})}catch(a){console.log(a),n(a)}})}0&&(module.exports={Bitmap,Context,debug_list_of_fonts,decodeJPEGFromStream,decodePNGFromStream,encodeJPEGToStream,encodePNGToStream,make,measureText,processTextPath,registerFont});
